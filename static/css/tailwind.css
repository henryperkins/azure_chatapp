/* ================ */
/* Tailwind CSS v4.1 */
/* ================ */

/* 1. Core import */
@import "tailwindcss";

/* 2. Add daisyUI plugin */
@plugin "daisyui";

/* 3. CSSâ€‘first theme overrides */
@theme {
  /* Brand colors */
  --color-primary:   #ff79c6;
  --color-secondary: #bd93f9;
  --color-accent:    #f1fa8c;
  --color-neutral:   #6272a4;

  /* Base surface & content */
  --color-base-100:   #1e1f28;
  --color-base-200:   #1a1b23;
  --color-base-300:   #16171e;
  --color-base-content: #f8f8f2;
}

/* 4. Your existing base/custom layers */
@layer base {
  :root {
    color-scheme: dark;
  }
  body {
    @apply bg-base-100 text-base-content min-h-screen antialiased;
    line-height: 1.5;
  }
  /* Headings inherit font-weight */
  h1,
  h2,
  h3,
  h4 {
    @apply font-bold text-inherit;
  }

  /* Links inherit color */
  a {
    @apply text-inherit hover:text-primary;
  }

  /* Fix form elements reset by Preflight */
  button,
  input,
  optgroup,
  select,
  textarea {
    @apply font-sans;
  }
}

@layer components {
  .chat-container {
    @apply flex flex-col h-[calc(100vh-6rem)] p-4 space-y-4;

    /* Cross-browser scrollbar styling */
    @supports (scrollbar-width: thin) {
      scrollbar-width: thin;
      scrollbar-color: var(--color-neutral) transparent; /* FIXED: use CSS variable */
    }

    @supports selector(::-webkit-scrollbar) {
      &::-webkit-scrollbar {
        @apply w-2;
      }
      &::-webkit-scrollbar-thumb {
        @apply bg-neutral rounded-full;
      }
    }
  }

  .chat-message {
    @apply p-3 rounded-box max-w-[80%] break-words border;

    &.user {
      @apply bg-primary/10 border-primary/20 ml-auto;
    }

    &.assistant {
      @apply bg-base-200 border-base-300 mr-auto;
    }
  }
}

/* 5. Utilities */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Z-index fixes */
  #authContainer {
      position: relative;
      z-index: 101; /* Raise above other modals */
  }

  .knowledge-base-modal {
    z-index: 100;
  }

  #projectListView {
    z-index: 40;
    position: relative;
  }
}
