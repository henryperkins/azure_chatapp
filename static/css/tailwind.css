/* Main CSS file with Tailwind CSS v4 and daisyUI 5 */
@import "tailwindcss";

@plugin "daisyui" {
  themes: light --default, dark --prefersdark;
  root: ":root";
}

/* Custom daisyUI theme */
@plugin "daisyui/theme" {
  name: "azure-chat";
  default: true;
  prefersdark: false;
  color-scheme: light;

  /* Primary colors */
  --color-primary: oklch(62.3% 0.214 259.815);
  --color-primary-content: oklch(98.5% 0.002 247.839);
  --color-secondary: oklch(58.5% 0.233 277.117);
  --color-secondary-content: oklch(98.5% 0.002 247.839);
  --color-accent: oklch(79.2% 0.209 151.711);
  --color-accent-content: oklch(21% 0.034 264.665);

  /* Neutral colors */
  --color-neutral: oklch(44.6% 0.03 256.802);
  --color-neutral-content: oklch(98.5% 0.002 247.839);

  /* Base colors */
  --color-base-100: oklch(98.5% 0.002 247.839);
  --color-base-200: oklch(96.7% 0.003 264.542);
  --color-base-300: oklch(92.8% 0.006 264.531);
  --color-base-content: oklch(21% 0.034 264.665);

  /* State colors */
  --color-info: oklch(70.7% 0.165 254.624);
  --color-info-content: oklch(21% 0.034 264.665);
  --color-success: oklch(72.3% 0.219 149.579);
  --color-success-content: oklch(21% 0.034 264.665);
  --color-warning: oklch(79.5% 0.184 86.047);
  --color-warning-content: oklch(21% 0.034 264.665);
  --color-error: oklch(63.7% 0.237 25.331);
  --color-error-content: oklch(98.5% 0.002 247.839);

  /* Border radius settings */
  --radius-selector: 0.375rem;
  --radius-field: 0.375rem;
  --radius-box: 0.5rem;

  /* Base size settings */
  --size-selector: 0.25rem;
  --size-field: 0.25rem;

  /* Other settings */
  --border: 1px;
  --depth: 1;
}

/* Container query support */
@container (min-width: 640px) {
  .drag-zone {
    padding: 2rem;
  }
}

/* Modern :has() selector */
.nav-item:has(.active) {
  border-left: 2px solid var(--color-primary);
}

/* Header and footer text sizing */
header {
  font-size: 0.875rem;
  /* 14px */
}

header h1 {
  font-size: 1.25rem;
  /* 20px */
}

#userStatus {
  font-size: 0.875rem;
  /* 14px */
}

/* Project list transition effects */
#projectListView {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* Line clamping utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Text wrap balance */
.modal-content {
  text-wrap: balance;
}

/* Media queries for mid-size screens */
@media (min-width: 480px) and (max-width: 767px) {
  .project-card {
    padding: 1.5rem;
  }
}

/* Animation safety */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Add custom components */
@layer components {
  .project-card {
    @apply flex flex-col rounded-sm border border-base-200 bg-base-100 p-4 shadow-xs;
    /* Open-props style transitions */
    transition:
      transform 0.2s ease-out,
      box-shadow 0.2s ease-out;

    @variant hover {
      @apply shadow-sm;
    }

    @variant dark {
      @apply border-base-300 bg-base-200;
    }
  }

  /* 3D transform utilities */
  .modal-content {
    transform: translateZ(10px);
    perspective: 1000px;
  }

  /* Forced color mode adjustments */
  @media (forced-colors: active) {
    button {
      border: 1px solid transparent;
    }
  }

  /* Size-based utilities */
  .drag-drop-icon {
    size: theme('size.16');
  }

  /* Viewport-based typography */
  .project-title {
    font-size: clamp(1.25rem, 5vw, 2rem);
  }

  /* Dynamic viewport units */
  .modal-container {
    min-height: 100dvh;
  }
}

/* Project Card Variations */
.project-card-pinned {
  border-left-width: 4px;
  border-color: var(--color-warning);
}

.project-card-archived {
  opacity: 75%;
}

.project-card-theme-default {
  background-color: var(--color-base-100);
}

.dark .project-card-theme-default {
  background-color: var(--color-base-300);
}

.project-card-theme-primary {
  @apply border-primary/20 bg-primary/10;
}

.dark .project-card-theme-primary {
  @apply border-primary/30 bg-primary/20;
}

.project-card-theme-success {
  border-color: var(--color-success);
  background-color: color-mix(in oklch, var(--color-success) 20%, transparent);
}

.dark .project-card-theme-success {
  border-color: var(--color-success);
  background-color: color-mix(in oklch, var(--color-success) 30%, transparent);
}

.project-card-theme-warning {
  border-color: var(--color-warning);
  background-color: color-mix(in oklch, var(--color-warning) 20%, transparent);
}

.dark .project-card-theme-warning {
  border-color: var(--color-warning);
  background-color: color-mix(in oklab, var(--color-warning) 30%, transparent);
}

.project-card-theme-danger {
  border-color: var(--color-error);
  background-color: color-mix(in oklch, var(--color-error) 20%, transparent);
}

.dark .project-card-theme-danger {
  border-color: var(--color-error);
  background-color: color-mix(in oklab, var(--color-error) 30%, transparent);
}

/* Drag & Drop Zone */
.drag-zone {
  @apply rounded-lg border-2 border-dashed border-base-300 p-6 text-center;
}

.dark .drag-zone {
  @apply border-base-content/30;
}

.drag-zone-active {
  @apply border-primary bg-primary/10;
}

.dark .drag-zone-active {
  @apply bg-primary/20;
}

/* Custom utilities */
@utility progress-outer {
  @apply h-2 overflow-hidden rounded-full bg-base-200;

  @variant dark {
    @apply bg-base-content/20;
  }
}

@utility progress-inner {
  @apply h-full rounded-full bg-primary;
}

@utility tab-heading {
  margin-bottom: 0.5rem;
  font-size: 1.125rem;
  font-weight: 500;
}

@utility tab-content {
  color: var(--color-base-content);
}

@utility tab-section {
  margin-bottom: 1.5rem;
}

/* Project Tab Button */
.project-tab-btn {
  border-bottom-width: 2px;
  border-color: transparent;
  padding-inline: 1rem;
  padding-block: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
}

.project-tab-btn:hover {
  color: var(--color-base-content);
}

.project-tab-btn:focus {
  outline-style: none;
}

.project-tab-btn-active {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* Define keyframes */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  50% {
    opacity: 0.5;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes countUp {
  from {
    opacity: 0.5;
    transform: translateY(5px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Animation utilities */
@utility animate-spin {
  animation: spin 1s linear infinite;

  @variant motion-reduce {
    animation-duration: 3s;
  }
}

@utility animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  @variant motion-reduce {
    animation-iteration-count: 1;
  }
}

@utility animate-slide-in {
  animation: slideIn 0.2s ease-out;
}

@utility animate-fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

@utility animate-count-up {
  animation: countUp 0.5s ease-out;
}

/* Dark mode toggle button style */
.dark-mode-toggle {
  padding: 0.5rem;
  border-radius: 9999px;
  transition-property: all;
  transition-duration: 150ms;
}

.dark-mode-toggle:hover {
  background-color: var(--color-base-200);
}

.dark .dark-mode-toggle:hover {
  background-color: var(--color-base-content/20);
}

.dark-mode-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-base-content/30);
}
