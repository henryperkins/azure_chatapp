960ddd048f3bd50da8176ad565211be2
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createAuthFormHandler = createAuthFormHandler;
exports.default = void 0;
/**
 * AuthFormHandler - extracted form management helpers (Phase-2)
 * -----------------------------------------------------------
 * Handles form validation, UI interactions, and form-specific logic
 * for authentication forms. Extracted from oversized auth.js module.
 */

function createAuthFormHandler({
  domAPI,
  sanitizer,
  eventHandlers,
  logger,
  safeHandler
} = {}) {
  const MODULE = 'AuthFormHandler';
  if (!domAPI || !sanitizer || !eventHandlers || !logger || !safeHandler) {
    throw new Error(`[${MODULE}] Required dependencies missing: domAPI, sanitizer, eventHandlers, logger, safeHandler`);
  }
  const _log = (msg, extra = {}) => logger?.debug?.(`[${MODULE}] ${msg}`, {
    context: MODULE,
    ...extra
  });
  const _logError = (msg, err, extra = {}) => {
    logger?.error?.(`[${MODULE}] ${msg}`, err?.stack || err, {
      context: MODULE,
      ...extra
    });
  };
  function validateUsername(username) {
    if (!username || typeof username !== 'string') {
      return {
        valid: false,
        message: 'Username is required'
      };
    }
    const trimmed = username.trim();
    if (trimmed.length < 3) {
      return {
        valid: false,
        message: 'Username must be at least 3 characters'
      };
    }
    if (trimmed.length > 50) {
      return {
        valid: false,
        message: 'Username must be 50 characters or less'
      };
    }
    if (!/^[a-zA-Z0-9_.-]+$/.test(trimmed)) {
      return {
        valid: false,
        message: 'Username can only contain letters, numbers, dots, dashes, and underscores'
      };
    }
    return {
      valid: true,
      value: trimmed
    };
  }
  function validatePassword(password) {
    if (!password || typeof password !== 'string') {
      return {
        valid: false,
        message: 'Password is required'
      };
    }
    if (password.length < 8) {
      return {
        valid: false,
        message: 'Password must be at least 8 characters'
      };
    }
    if (password.length > 128) {
      return {
        valid: false,
        message: 'Password must be 128 characters or less'
      };
    }
    return {
      valid: true,
      value: password
    };
  }
  function validateEmail(email) {
    if (!email || typeof email !== 'string') {
      return {
        valid: false,
        message: 'Email is required'
      };
    }
    const trimmed = email.trim();
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(trimmed)) {
      return {
        valid: false,
        message: 'Please enter a valid email address'
      };
    }
    return {
      valid: true,
      value: trimmed
    };
  }
  function setButtonLoading(btn, isLoading, loadingText = 'Processing...') {
    if (!btn) return;
    try {
      if (isLoading) {
        btn.disabled = true;
        btn.dataset.originalText = btn.textContent;
        btn.textContent = loadingText;
        domAPI.addClass(btn, 'loading');
      } else {
        btn.disabled = false;
        btn.textContent = btn.dataset.originalText || btn.textContent;
        domAPI.removeClass(btn, 'loading');
        delete btn.dataset.originalText;
      }
    } catch (err) {
      _logError('Failed to set button loading state', err, {
        isLoading,
        loadingText
      });
    }
  }
  function showError(container, message) {
    if (!container || !message) return;
    try {
      let errorEl = container.querySelector('.error-message');
      if (!errorEl) {
        errorEl = domAPI.createElement('div');
        errorEl.className = 'error-message text-error text-sm mt-2';
        domAPI.appendChild(container, errorEl);
      }
      domAPI.setTextContent(errorEl, sanitizer.sanitize(message));
      domAPI.removeClass(errorEl, 'hidden');
    } catch (err) {
      _logError('Failed to show error message', err, {
        message
      });
    }
  }
  function hideError(container) {
    if (!container) return;
    try {
      const errorEl = container.querySelector('.error-message');
      if (errorEl) {
        domAPI.addClass(errorEl, 'hidden');
      }
    } catch (err) {
      _logError('Failed to hide error message', err);
    }
  }
  function clearForm(formEl) {
    if (!formEl) return;
    try {
      const inputs = formEl.querySelectorAll('input[type="text"], input[type="email"], input[type="password"]');
      inputs.forEach(input => {
        input.value = '';
        hideError(input.parentElement);
      });
    } catch (err) {
      _logError('Failed to clear form', err);
    }
  }
  function bindFormSubmission(formEl, onSubmit, {
    context = MODULE
  } = {}) {
    if (!formEl || typeof onSubmit !== 'function') {
      _logError('bindFormSubmission: form and onSubmit handler required');
      return;
    }
    const handler = safeHandler(async event => {
      event.preventDefault();
      event.stopPropagation();
      const formData = new FormData(formEl);
      const data = Object.fromEntries(formData.entries());
      try {
        await onSubmit(data, formEl);
      } catch (err) {
        _logError('Form submission failed', err, {
          formId: formEl.id
        });
      }
    }, `${context}:FormSubmit`);
    eventHandlers.trackListener(formEl, 'submit', handler, {
      context,
      description: 'FormSubmission'
    });
    _log('Form submission bound', {
      formId: formEl.id,
      context
    });
  }
  function bindInputValidation(inputEl, validator, {
    context = MODULE
  } = {}) {
    if (!inputEl || typeof validator !== 'function') {
      _logError('bindInputValidation: input and validator required');
      return;
    }
    const handler = safeHandler(() => {
      const value = inputEl.value;
      const result = validator(value);
      const container = inputEl.parentElement;
      if (result.valid) {
        hideError(container);
        domAPI.removeClass(inputEl, 'input-error');
      } else {
        showError(container, result.message);
        domAPI.addClass(inputEl, 'input-error');
      }
    }, `${context}:InputValidation`);
    eventHandlers.trackListener(inputEl, 'blur', handler, {
      context,
      description: 'InputValidation'
    });
  }
  function extendProps(target, props) {
    if (target && props) Object.assign(target, props);
  }
  function applyStyles(target, styles) {
    if (target && styles) Object.assign(target.style, styles);
  }
  return {
    // Validation functions
    validateUsername,
    validatePassword,
    validateEmail,
    // UI helper functions
    setButtonLoading,
    showError,
    hideError,
    clearForm,
    // Event binding functions
    bindFormSubmission,
    bindInputValidation,
    // Utility functions
    extendProps,
    applyStyles,
    cleanup() {
      _log('cleanup()');
      eventHandlers.cleanupListeners({
        context: 'authFormHandler'
      });
    }
  };
}
var _default = exports.default = createAuthFormHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVBdXRoRm9ybUhhbmRsZXIiLCJkb21BUEkiLCJzYW5pdGl6ZXIiLCJldmVudEhhbmRsZXJzIiwibG9nZ2VyIiwic2FmZUhhbmRsZXIiLCJNT0RVTEUiLCJFcnJvciIsIl9sb2ciLCJtc2ciLCJleHRyYSIsImRlYnVnIiwiY29udGV4dCIsIl9sb2dFcnJvciIsImVyciIsImVycm9yIiwic3RhY2siLCJ2YWxpZGF0ZVVzZXJuYW1lIiwidXNlcm5hbWUiLCJ2YWxpZCIsIm1lc3NhZ2UiLCJ0cmltbWVkIiwidHJpbSIsImxlbmd0aCIsInRlc3QiLCJ2YWx1ZSIsInZhbGlkYXRlUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkYXRlRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJzZXRCdXR0b25Mb2FkaW5nIiwiYnRuIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJkaXNhYmxlZCIsImRhdGFzZXQiLCJvcmlnaW5hbFRleHQiLCJ0ZXh0Q29udGVudCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzaG93RXJyb3IiLCJjb250YWluZXIiLCJlcnJvckVsIiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInNldFRleHRDb250ZW50Iiwic2FuaXRpemUiLCJoaWRlRXJyb3IiLCJjbGVhckZvcm0iLCJmb3JtRWwiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImlucHV0IiwicGFyZW50RWxlbWVudCIsImJpbmRGb3JtU3VibWlzc2lvbiIsIm9uU3VibWl0IiwiaGFuZGxlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZGF0YSIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImZvcm1JZCIsImlkIiwidHJhY2tMaXN0ZW5lciIsImRlc2NyaXB0aW9uIiwiYmluZElucHV0VmFsaWRhdGlvbiIsImlucHV0RWwiLCJ2YWxpZGF0b3IiLCJyZXN1bHQiLCJleHRlbmRQcm9wcyIsInRhcmdldCIsInByb3BzIiwiYXNzaWduIiwiYXBwbHlTdHlsZXMiLCJzdHlsZXMiLCJzdHlsZSIsImNsZWFudXAiLCJjbGVhbnVwTGlzdGVuZXJzIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbImF1dGhGb3JtSGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dGhGb3JtSGFuZGxlciAtIGV4dHJhY3RlZCBmb3JtIG1hbmFnZW1lbnQgaGVscGVycyAoUGhhc2UtMilcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBIYW5kbGVzIGZvcm0gdmFsaWRhdGlvbiwgVUkgaW50ZXJhY3Rpb25zLCBhbmQgZm9ybS1zcGVjaWZpYyBsb2dpY1xuICogZm9yIGF1dGhlbnRpY2F0aW9uIGZvcm1zLiBFeHRyYWN0ZWQgZnJvbSBvdmVyc2l6ZWQgYXV0aC5qcyBtb2R1bGUuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1dGhGb3JtSGFuZGxlcih7XG4gIGRvbUFQSSxcbiAgc2FuaXRpemVyLFxuICBldmVudEhhbmRsZXJzLFxuICBsb2dnZXIsXG4gIHNhZmVIYW5kbGVyXG59ID0ge30pIHtcbiAgY29uc3QgTU9EVUxFID0gJ0F1dGhGb3JtSGFuZGxlcic7XG5cbiAgaWYgKCFkb21BUEkgfHwgIXNhbml0aXplciB8fCAhZXZlbnRIYW5kbGVycyB8fCAhbG9nZ2VyIHx8ICFzYWZlSGFuZGxlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgWyR7TU9EVUxFfV0gUmVxdWlyZWQgZGVwZW5kZW5jaWVzIG1pc3Npbmc6IGRvbUFQSSwgc2FuaXRpemVyLCBldmVudEhhbmRsZXJzLCBsb2dnZXIsIHNhZmVIYW5kbGVyYCk7XG4gIH1cblxuICBjb25zdCBfbG9nID0gKG1zZywgZXh0cmEgPSB7fSkgPT4gbG9nZ2VyPy5kZWJ1Zz8uKGBbJHtNT0RVTEV9XSAke21zZ31gLCB7XG4gICAgY29udGV4dDogTU9EVUxFLFxuICAgIC4uLmV4dHJhXG4gIH0pO1xuXG4gIGNvbnN0IF9sb2dFcnJvciA9IChtc2csIGVyciwgZXh0cmEgPSB7fSkgPT4ge1xuICAgIGxvZ2dlcj8uZXJyb3I/LihgWyR7TU9EVUxFfV0gJHttc2d9YCwgZXJyPy5zdGFjayB8fCBlcnIsIHtcbiAgICAgIGNvbnRleHQ6IE1PRFVMRSxcbiAgICAgIC4uLmV4dHJhXG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVVc2VybmFtZSh1c2VybmFtZSkge1xuICAgIGlmICghdXNlcm5hbWUgfHwgdHlwZW9mIHVzZXJuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnIH07XG4gICAgfVxuICAgIGNvbnN0IHRyaW1tZWQgPSB1c2VybmFtZS50cmltKCk7XG4gICAgaWYgKHRyaW1tZWQubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnVXNlcm5hbWUgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMnIH07XG4gICAgfVxuICAgIGlmICh0cmltbWVkLmxlbmd0aCA+IDUwKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdVc2VybmFtZSBtdXN0IGJlIDUwIGNoYXJhY3RlcnMgb3IgbGVzcycgfTtcbiAgICB9XG4gICAgaWYgKCEvXlthLXpBLVowLTlfLi1dKyQvLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ1VzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gbGV0dGVycywgbnVtYmVycywgZG90cywgZGFzaGVzLCBhbmQgdW5kZXJzY29yZXMnIH07XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCB2YWx1ZTogdHJpbW1lZCB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZCkge1xuICAgIGlmICghcGFzc3dvcmQgfHwgdHlwZW9mIHBhc3N3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnIH07XG4gICAgfVxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA4KSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycycgfTtcbiAgICB9XG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA+IDEyOCkge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnUGFzc3dvcmQgbXVzdCBiZSAxMjggY2hhcmFjdGVycyBvciBsZXNzJyB9O1xuICAgIH1cbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgdmFsdWU6IHBhc3N3b3JkIH07XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7XG4gICAgaWYgKCFlbWFpbCB8fCB0eXBlb2YgZW1haWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdFbWFpbCBpcyByZXF1aXJlZCcgfTtcbiAgICB9XG4gICAgY29uc3QgdHJpbW1lZCA9IGVtYWlsLnRyaW0oKTtcbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodHJpbW1lZCkpIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnIH07XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCB2YWx1ZTogdHJpbW1lZCB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QnV0dG9uTG9hZGluZyhidG4sIGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSAnUHJvY2Vzc2luZy4uLicpIHtcbiAgICBpZiAoIWJ0bikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYnRuLmRhdGFzZXQub3JpZ2luYWxUZXh0ID0gYnRuLnRleHRDb250ZW50O1xuICAgICAgICBidG4udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICAgICAgZG9tQVBJLmFkZENsYXNzKGJ0biwgJ2xvYWRpbmcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBidG4udGV4dENvbnRlbnQgPSBidG4uZGF0YXNldC5vcmlnaW5hbFRleHQgfHwgYnRuLnRleHRDb250ZW50O1xuICAgICAgICBkb21BUEkucmVtb3ZlQ2xhc3MoYnRuLCAnbG9hZGluZycpO1xuICAgICAgICBkZWxldGUgYnRuLmRhdGFzZXQub3JpZ2luYWxUZXh0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2xvZ0Vycm9yKCdGYWlsZWQgdG8gc2V0IGJ1dHRvbiBsb2FkaW5nIHN0YXRlJywgZXJyLCB7IGlzTG9hZGluZywgbG9hZGluZ1RleHQgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKGNvbnRhaW5lciwgbWVzc2FnZSkge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFtZXNzYWdlKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGVycm9yRWwgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmVycm9yLW1lc3NhZ2UnKTtcbiAgICAgIGlmICghZXJyb3JFbCkge1xuICAgICAgICBlcnJvckVsID0gZG9tQVBJLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlcnJvckVsLmNsYXNzTmFtZSA9ICdlcnJvci1tZXNzYWdlIHRleHQtZXJyb3IgdGV4dC1zbSBtdC0yJztcbiAgICAgICAgZG9tQVBJLmFwcGVuZENoaWxkKGNvbnRhaW5lciwgZXJyb3JFbCk7XG4gICAgICB9XG4gICAgICBkb21BUEkuc2V0VGV4dENvbnRlbnQoZXJyb3JFbCwgc2FuaXRpemVyLnNhbml0aXplKG1lc3NhZ2UpKTtcbiAgICAgIGRvbUFQSS5yZW1vdmVDbGFzcyhlcnJvckVsLCAnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfbG9nRXJyb3IoJ0ZhaWxlZCB0byBzaG93IGVycm9yIG1lc3NhZ2UnLCBlcnIsIHsgbWVzc2FnZSB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoaWRlRXJyb3IoY29udGFpbmVyKSB7XG4gICAgaWYgKCFjb250YWluZXIpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBlcnJvckVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1tZXNzYWdlJyk7XG4gICAgICBpZiAoZXJyb3JFbCkge1xuICAgICAgICBkb21BUEkuYWRkQ2xhc3MoZXJyb3JFbCwgJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2xvZ0Vycm9yKCdGYWlsZWQgdG8gaGlkZSBlcnJvciBtZXNzYWdlJywgZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckZvcm0oZm9ybUVsKSB7XG4gICAgaWYgKCFmb3JtRWwpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBmb3JtRWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0sIGlucHV0W3R5cGU9XCJlbWFpbFwiXSwgaW5wdXRbdHlwZT1cInBhc3N3b3JkXCJdJyk7XG4gICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIGhpZGVFcnJvcihpbnB1dC5wYXJlbnRFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2xvZ0Vycm9yKCdGYWlsZWQgdG8gY2xlYXIgZm9ybScsIGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYmluZEZvcm1TdWJtaXNzaW9uKGZvcm1FbCwgb25TdWJtaXQsIHsgY29udGV4dCA9IE1PRFVMRSB9ID0ge30pIHtcbiAgICBpZiAoIWZvcm1FbCB8fCB0eXBlb2Ygb25TdWJtaXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIF9sb2dFcnJvcignYmluZEZvcm1TdWJtaXNzaW9uOiBmb3JtIGFuZCBvblN1Ym1pdCBoYW5kbGVyIHJlcXVpcmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlciA9IHNhZmVIYW5kbGVyKGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtRWwpO1xuICAgICAgY29uc3QgZGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhmb3JtRGF0YS5lbnRyaWVzKCkpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvblN1Ym1pdChkYXRhLCBmb3JtRWwpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9sb2dFcnJvcignRm9ybSBzdWJtaXNzaW9uIGZhaWxlZCcsIGVyciwgeyBmb3JtSWQ6IGZvcm1FbC5pZCB9KTtcbiAgICAgIH1cbiAgICB9LCBgJHtjb250ZXh0fTpGb3JtU3VibWl0YCk7XG5cbiAgICBldmVudEhhbmRsZXJzLnRyYWNrTGlzdGVuZXIoZm9ybUVsLCAnc3VibWl0JywgaGFuZGxlciwge1xuICAgICAgY29udGV4dCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRm9ybVN1Ym1pc3Npb24nXG4gICAgfSk7XG5cbiAgICBfbG9nKCdGb3JtIHN1Ym1pc3Npb24gYm91bmQnLCB7IGZvcm1JZDogZm9ybUVsLmlkLCBjb250ZXh0IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZElucHV0VmFsaWRhdGlvbihpbnB1dEVsLCB2YWxpZGF0b3IsIHsgY29udGV4dCA9IE1PRFVMRSB9ID0ge30pIHtcbiAgICBpZiAoIWlucHV0RWwgfHwgdHlwZW9mIHZhbGlkYXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgX2xvZ0Vycm9yKCdiaW5kSW5wdXRWYWxpZGF0aW9uOiBpbnB1dCBhbmQgdmFsaWRhdG9yIHJlcXVpcmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlciA9IHNhZmVIYW5kbGVyKCgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXRFbC52YWx1ZTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRvcih2YWx1ZSk7XG5cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGlucHV0RWwucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChyZXN1bHQudmFsaWQpIHtcbiAgICAgICAgaGlkZUVycm9yKGNvbnRhaW5lcik7XG4gICAgICAgIGRvbUFQSS5yZW1vdmVDbGFzcyhpbnB1dEVsLCAnaW5wdXQtZXJyb3InKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3dFcnJvcihjb250YWluZXIsIHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgZG9tQVBJLmFkZENsYXNzKGlucHV0RWwsICdpbnB1dC1lcnJvcicpO1xuICAgICAgfVxuICAgIH0sIGAke2NvbnRleHR9OklucHV0VmFsaWRhdGlvbmApO1xuXG4gICAgZXZlbnRIYW5kbGVycy50cmFja0xpc3RlbmVyKGlucHV0RWwsICdibHVyJywgaGFuZGxlciwge1xuICAgICAgY29udGV4dCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSW5wdXRWYWxpZGF0aW9uJ1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kUHJvcHModGFyZ2V0LCBwcm9wcykge1xuICAgIGlmICh0YXJnZXQgJiYgcHJvcHMpIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBwcm9wcyk7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseVN0eWxlcyh0YXJnZXQsIHN0eWxlcykge1xuICAgIGlmICh0YXJnZXQgJiYgc3R5bGVzKSBPYmplY3QuYXNzaWduKHRhcmdldC5zdHlsZSwgc3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLy8gVmFsaWRhdGlvbiBmdW5jdGlvbnNcbiAgICB2YWxpZGF0ZVVzZXJuYW1lLFxuICAgIHZhbGlkYXRlUGFzc3dvcmQsXG4gICAgdmFsaWRhdGVFbWFpbCxcblxuICAgIC8vIFVJIGhlbHBlciBmdW5jdGlvbnNcbiAgICBzZXRCdXR0b25Mb2FkaW5nLFxuICAgIHNob3dFcnJvcixcbiAgICBoaWRlRXJyb3IsXG4gICAgY2xlYXJGb3JtLFxuXG4gICAgLy8gRXZlbnQgYmluZGluZyBmdW5jdGlvbnNcbiAgICBiaW5kRm9ybVN1Ym1pc3Npb24sXG4gICAgYmluZElucHV0VmFsaWRhdGlvbixcblxuICAgIC8vIFV0aWxpdHkgZnVuY3Rpb25zXG4gICAgZXh0ZW5kUHJvcHMsXG4gICAgYXBwbHlTdHlsZXMsXG5cbiAgICBjbGVhbnVwKCkge1xuICAgICAgX2xvZygnY2xlYW51cCgpJyk7XG4gICAgICBldmVudEhhbmRsZXJzLmNsZWFudXBMaXN0ZW5lcnMoeyBjb250ZXh0OiAnYXV0aEZvcm1IYW5kbGVyJyB9KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUF1dGhGb3JtSGFuZGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTyxTQUFTQSxxQkFBcUJBLENBQUM7RUFDcENDLE1BQU07RUFDTkMsU0FBUztFQUNUQyxhQUFhO0VBQ2JDLE1BQU07RUFDTkM7QUFDRixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7RUFDTixNQUFNQyxNQUFNLEdBQUcsaUJBQWlCO0VBRWhDLElBQUksQ0FBQ0wsTUFBTSxJQUFJLENBQUNDLFNBQVMsSUFBSSxDQUFDQyxhQUFhLElBQUksQ0FBQ0MsTUFBTSxJQUFJLENBQUNDLFdBQVcsRUFBRTtJQUN0RSxNQUFNLElBQUlFLEtBQUssQ0FBQyxJQUFJRCxNQUFNLHdGQUF3RixDQUFDO0VBQ3JIO0VBRUEsTUFBTUUsSUFBSSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBS04sTUFBTSxFQUFFTyxLQUFLLEdBQUcsSUFBSUwsTUFBTSxLQUFLRyxHQUFHLEVBQUUsRUFBRTtJQUN0RUcsT0FBTyxFQUFFTixNQUFNO0lBQ2YsR0FBR0k7RUFDTCxDQUFDLENBQUM7RUFFRixNQUFNRyxTQUFTLEdBQUdBLENBQUNKLEdBQUcsRUFBRUssR0FBRyxFQUFFSixLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUs7SUFDMUNOLE1BQU0sRUFBRVcsS0FBSyxHQUFHLElBQUlULE1BQU0sS0FBS0csR0FBRyxFQUFFLEVBQUVLLEdBQUcsRUFBRUUsS0FBSyxJQUFJRixHQUFHLEVBQUU7TUFDdkRGLE9BQU8sRUFBRU4sTUFBTTtNQUNmLEdBQUdJO0lBQ0wsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUVELFNBQVNPLGdCQUFnQkEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ2xDLElBQUksQ0FBQ0EsUUFBUSxJQUFJLE9BQU9BLFFBQVEsS0FBSyxRQUFRLEVBQUU7TUFDN0MsT0FBTztRQUFFQyxLQUFLLEVBQUUsS0FBSztRQUFFQyxPQUFPLEVBQUU7TUFBdUIsQ0FBQztJQUMxRDtJQUNBLE1BQU1DLE9BQU8sR0FBR0gsUUFBUSxDQUFDSSxJQUFJLENBQUMsQ0FBQztJQUMvQixJQUFJRCxPQUFPLENBQUNFLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDdEIsT0FBTztRQUFFSixLQUFLLEVBQUUsS0FBSztRQUFFQyxPQUFPLEVBQUU7TUFBeUMsQ0FBQztJQUM1RTtJQUNBLElBQUlDLE9BQU8sQ0FBQ0UsTUFBTSxHQUFHLEVBQUUsRUFBRTtNQUN2QixPQUFPO1FBQUVKLEtBQUssRUFBRSxLQUFLO1FBQUVDLE9BQU8sRUFBRTtNQUF5QyxDQUFDO0lBQzVFO0lBQ0EsSUFBSSxDQUFDLG1CQUFtQixDQUFDSSxJQUFJLENBQUNILE9BQU8sQ0FBQyxFQUFFO01BQ3RDLE9BQU87UUFBRUYsS0FBSyxFQUFFLEtBQUs7UUFBRUMsT0FBTyxFQUFFO01BQTRFLENBQUM7SUFDL0c7SUFDQSxPQUFPO01BQUVELEtBQUssRUFBRSxJQUFJO01BQUVNLEtBQUssRUFBRUo7SUFBUSxDQUFDO0VBQ3hDO0VBRUEsU0FBU0ssZ0JBQWdCQSxDQUFDQyxRQUFRLEVBQUU7SUFDbEMsSUFBSSxDQUFDQSxRQUFRLElBQUksT0FBT0EsUUFBUSxLQUFLLFFBQVEsRUFBRTtNQUM3QyxPQUFPO1FBQUVSLEtBQUssRUFBRSxLQUFLO1FBQUVDLE9BQU8sRUFBRTtNQUF1QixDQUFDO0lBQzFEO0lBQ0EsSUFBSU8sUUFBUSxDQUFDSixNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3ZCLE9BQU87UUFBRUosS0FBSyxFQUFFLEtBQUs7UUFBRUMsT0FBTyxFQUFFO01BQXlDLENBQUM7SUFDNUU7SUFDQSxJQUFJTyxRQUFRLENBQUNKLE1BQU0sR0FBRyxHQUFHLEVBQUU7TUFDekIsT0FBTztRQUFFSixLQUFLLEVBQUUsS0FBSztRQUFFQyxPQUFPLEVBQUU7TUFBMEMsQ0FBQztJQUM3RTtJQUNBLE9BQU87TUFBRUQsS0FBSyxFQUFFLElBQUk7TUFBRU0sS0FBSyxFQUFFRTtJQUFTLENBQUM7RUFDekM7RUFFQSxTQUFTQyxhQUFhQSxDQUFDQyxLQUFLLEVBQUU7SUFDNUIsSUFBSSxDQUFDQSxLQUFLLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsRUFBRTtNQUN2QyxPQUFPO1FBQUVWLEtBQUssRUFBRSxLQUFLO1FBQUVDLE9BQU8sRUFBRTtNQUFvQixDQUFDO0lBQ3ZEO0lBQ0EsTUFBTUMsT0FBTyxHQUFHUSxLQUFLLENBQUNQLElBQUksQ0FBQyxDQUFDO0lBQzVCLE1BQU1RLFVBQVUsR0FBRyw0QkFBNEI7SUFDL0MsSUFBSSxDQUFDQSxVQUFVLENBQUNOLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUU7TUFDN0IsT0FBTztRQUFFRixLQUFLLEVBQUUsS0FBSztRQUFFQyxPQUFPLEVBQUU7TUFBcUMsQ0FBQztJQUN4RTtJQUNBLE9BQU87TUFBRUQsS0FBSyxFQUFFLElBQUk7TUFBRU0sS0FBSyxFQUFFSjtJQUFRLENBQUM7RUFDeEM7RUFFQSxTQUFTVSxnQkFBZ0JBLENBQUNDLEdBQUcsRUFBRUMsU0FBUyxFQUFFQyxXQUFXLEdBQUcsZUFBZSxFQUFFO0lBQ3ZFLElBQUksQ0FBQ0YsR0FBRyxFQUFFO0lBRVYsSUFBSTtNQUNGLElBQUlDLFNBQVMsRUFBRTtRQUNiRCxHQUFHLENBQUNHLFFBQVEsR0FBRyxJQUFJO1FBQ25CSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0MsWUFBWSxHQUFHTCxHQUFHLENBQUNNLFdBQVc7UUFDMUNOLEdBQUcsQ0FBQ00sV0FBVyxHQUFHSixXQUFXO1FBQzdCakMsTUFBTSxDQUFDc0MsUUFBUSxDQUFDUCxHQUFHLEVBQUUsU0FBUyxDQUFDO01BQ2pDLENBQUMsTUFBTTtRQUNMQSxHQUFHLENBQUNHLFFBQVEsR0FBRyxLQUFLO1FBQ3BCSCxHQUFHLENBQUNNLFdBQVcsR0FBR04sR0FBRyxDQUFDSSxPQUFPLENBQUNDLFlBQVksSUFBSUwsR0FBRyxDQUFDTSxXQUFXO1FBQzdEckMsTUFBTSxDQUFDdUMsV0FBVyxDQUFDUixHQUFHLEVBQUUsU0FBUyxDQUFDO1FBQ2xDLE9BQU9BLEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxZQUFZO01BQ2pDO0lBQ0YsQ0FBQyxDQUFDLE9BQU92QixHQUFHLEVBQUU7TUFDWkQsU0FBUyxDQUFDLG9DQUFvQyxFQUFFQyxHQUFHLEVBQUU7UUFBRW1CLFNBQVM7UUFBRUM7TUFBWSxDQUFDLENBQUM7SUFDbEY7RUFDRjtFQUVBLFNBQVNPLFNBQVNBLENBQUNDLFNBQVMsRUFBRXRCLE9BQU8sRUFBRTtJQUNyQyxJQUFJLENBQUNzQixTQUFTLElBQUksQ0FBQ3RCLE9BQU8sRUFBRTtJQUU1QixJQUFJO01BQ0YsSUFBSXVCLE9BQU8sR0FBR0QsU0FBUyxDQUFDRSxhQUFhLENBQUMsZ0JBQWdCLENBQUM7TUFDdkQsSUFBSSxDQUFDRCxPQUFPLEVBQUU7UUFDWkEsT0FBTyxHQUFHMUMsTUFBTSxDQUFDNEMsYUFBYSxDQUFDLEtBQUssQ0FBQztRQUNyQ0YsT0FBTyxDQUFDRyxTQUFTLEdBQUcsdUNBQXVDO1FBQzNEN0MsTUFBTSxDQUFDOEMsV0FBVyxDQUFDTCxTQUFTLEVBQUVDLE9BQU8sQ0FBQztNQUN4QztNQUNBMUMsTUFBTSxDQUFDK0MsY0FBYyxDQUFDTCxPQUFPLEVBQUV6QyxTQUFTLENBQUMrQyxRQUFRLENBQUM3QixPQUFPLENBQUMsQ0FBQztNQUMzRG5CLE1BQU0sQ0FBQ3VDLFdBQVcsQ0FBQ0csT0FBTyxFQUFFLFFBQVEsQ0FBQztJQUN2QyxDQUFDLENBQUMsT0FBTzdCLEdBQUcsRUFBRTtNQUNaRCxTQUFTLENBQUMsOEJBQThCLEVBQUVDLEdBQUcsRUFBRTtRQUFFTTtNQUFRLENBQUMsQ0FBQztJQUM3RDtFQUNGO0VBRUEsU0FBUzhCLFNBQVNBLENBQUNSLFNBQVMsRUFBRTtJQUM1QixJQUFJLENBQUNBLFNBQVMsRUFBRTtJQUVoQixJQUFJO01BQ0YsTUFBTUMsT0FBTyxHQUFHRCxTQUFTLENBQUNFLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztNQUN6RCxJQUFJRCxPQUFPLEVBQUU7UUFDWDFDLE1BQU0sQ0FBQ3NDLFFBQVEsQ0FBQ0ksT0FBTyxFQUFFLFFBQVEsQ0FBQztNQUNwQztJQUNGLENBQUMsQ0FBQyxPQUFPN0IsR0FBRyxFQUFFO01BQ1pELFNBQVMsQ0FBQyw4QkFBOEIsRUFBRUMsR0FBRyxDQUFDO0lBQ2hEO0VBQ0Y7RUFFQSxTQUFTcUMsU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ3pCLElBQUksQ0FBQ0EsTUFBTSxFQUFFO0lBRWIsSUFBSTtNQUNGLE1BQU1DLE1BQU0sR0FBR0QsTUFBTSxDQUFDRSxnQkFBZ0IsQ0FBQyxpRUFBaUUsQ0FBQztNQUN6R0QsTUFBTSxDQUFDRSxPQUFPLENBQUNDLEtBQUssSUFBSTtRQUN0QkEsS0FBSyxDQUFDL0IsS0FBSyxHQUFHLEVBQUU7UUFDaEJ5QixTQUFTLENBQUNNLEtBQUssQ0FBQ0MsYUFBYSxDQUFDO01BQ2hDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPM0MsR0FBRyxFQUFFO01BQ1pELFNBQVMsQ0FBQyxzQkFBc0IsRUFBRUMsR0FBRyxDQUFDO0lBQ3hDO0VBQ0Y7RUFFQSxTQUFTNEMsa0JBQWtCQSxDQUFDTixNQUFNLEVBQUVPLFFBQVEsRUFBRTtJQUFFL0MsT0FBTyxHQUFHTjtFQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUN2RSxJQUFJLENBQUM4QyxNQUFNLElBQUksT0FBT08sUUFBUSxLQUFLLFVBQVUsRUFBRTtNQUM3QzlDLFNBQVMsQ0FBQyx3REFBd0QsQ0FBQztNQUNuRTtJQUNGO0lBRUEsTUFBTStDLE9BQU8sR0FBR3ZELFdBQVcsQ0FBQyxNQUFPd0QsS0FBSyxJQUFLO01BQzNDQSxLQUFLLENBQUNDLGNBQWMsQ0FBQyxDQUFDO01BQ3RCRCxLQUFLLENBQUNFLGVBQWUsQ0FBQyxDQUFDO01BRXZCLE1BQU1DLFFBQVEsR0FBRyxJQUFJQyxRQUFRLENBQUNiLE1BQU0sQ0FBQztNQUNyQyxNQUFNYyxJQUFJLEdBQUdDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDSixRQUFRLENBQUNLLE9BQU8sQ0FBQyxDQUFDLENBQUM7TUFFbkQsSUFBSTtRQUNGLE1BQU1WLFFBQVEsQ0FBQ08sSUFBSSxFQUFFZCxNQUFNLENBQUM7TUFDOUIsQ0FBQyxDQUFDLE9BQU90QyxHQUFHLEVBQUU7UUFDWkQsU0FBUyxDQUFDLHdCQUF3QixFQUFFQyxHQUFHLEVBQUU7VUFBRXdELE1BQU0sRUFBRWxCLE1BQU0sQ0FBQ21CO1FBQUcsQ0FBQyxDQUFDO01BQ2pFO0lBQ0YsQ0FBQyxFQUFFLEdBQUczRCxPQUFPLGFBQWEsQ0FBQztJQUUzQlQsYUFBYSxDQUFDcUUsYUFBYSxDQUFDcEIsTUFBTSxFQUFFLFFBQVEsRUFBRVEsT0FBTyxFQUFFO01BQ3JEaEQsT0FBTztNQUNQNkQsV0FBVyxFQUFFO0lBQ2YsQ0FBQyxDQUFDO0lBRUZqRSxJQUFJLENBQUMsdUJBQXVCLEVBQUU7TUFBRThELE1BQU0sRUFBRWxCLE1BQU0sQ0FBQ21CLEVBQUU7TUFBRTNEO0lBQVEsQ0FBQyxDQUFDO0VBQy9EO0VBRUEsU0FBUzhELG1CQUFtQkEsQ0FBQ0MsT0FBTyxFQUFFQyxTQUFTLEVBQUU7SUFBRWhFLE9BQU8sR0FBR047RUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDMUUsSUFBSSxDQUFDcUUsT0FBTyxJQUFJLE9BQU9DLFNBQVMsS0FBSyxVQUFVLEVBQUU7TUFDL0MvRCxTQUFTLENBQUMsbURBQW1ELENBQUM7TUFDOUQ7SUFDRjtJQUVBLE1BQU0rQyxPQUFPLEdBQUd2RCxXQUFXLENBQUMsTUFBTTtNQUNoQyxNQUFNb0IsS0FBSyxHQUFHa0QsT0FBTyxDQUFDbEQsS0FBSztNQUMzQixNQUFNb0QsTUFBTSxHQUFHRCxTQUFTLENBQUNuRCxLQUFLLENBQUM7TUFFL0IsTUFBTWlCLFNBQVMsR0FBR2lDLE9BQU8sQ0FBQ2xCLGFBQWE7TUFDdkMsSUFBSW9CLE1BQU0sQ0FBQzFELEtBQUssRUFBRTtRQUNoQitCLFNBQVMsQ0FBQ1IsU0FBUyxDQUFDO1FBQ3BCekMsTUFBTSxDQUFDdUMsV0FBVyxDQUFDbUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztNQUM1QyxDQUFDLE1BQU07UUFDTGxDLFNBQVMsQ0FBQ0MsU0FBUyxFQUFFbUMsTUFBTSxDQUFDekQsT0FBTyxDQUFDO1FBQ3BDbkIsTUFBTSxDQUFDc0MsUUFBUSxDQUFDb0MsT0FBTyxFQUFFLGFBQWEsQ0FBQztNQUN6QztJQUNGLENBQUMsRUFBRSxHQUFHL0QsT0FBTyxrQkFBa0IsQ0FBQztJQUVoQ1QsYUFBYSxDQUFDcUUsYUFBYSxDQUFDRyxPQUFPLEVBQUUsTUFBTSxFQUFFZixPQUFPLEVBQUU7TUFDcERoRCxPQUFPO01BQ1A2RCxXQUFXLEVBQUU7SUFDZixDQUFDLENBQUM7RUFDSjtFQUVBLFNBQVNLLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsS0FBSyxFQUFFO0lBQ2xDLElBQUlELE1BQU0sSUFBSUMsS0FBSyxFQUFFYixNQUFNLENBQUNjLE1BQU0sQ0FBQ0YsTUFBTSxFQUFFQyxLQUFLLENBQUM7RUFDbkQ7RUFFQSxTQUFTRSxXQUFXQSxDQUFDSCxNQUFNLEVBQUVJLE1BQU0sRUFBRTtJQUNuQyxJQUFJSixNQUFNLElBQUlJLE1BQU0sRUFBRWhCLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDRixNQUFNLENBQUNLLEtBQUssRUFBRUQsTUFBTSxDQUFDO0VBQzNEO0VBRUEsT0FBTztJQUNMO0lBQ0FsRSxnQkFBZ0I7SUFDaEJTLGdCQUFnQjtJQUNoQkUsYUFBYTtJQUViO0lBQ0FHLGdCQUFnQjtJQUNoQlUsU0FBUztJQUNUUyxTQUFTO0lBQ1RDLFNBQVM7SUFFVDtJQUNBTyxrQkFBa0I7SUFDbEJnQixtQkFBbUI7SUFFbkI7SUFDQUksV0FBVztJQUNYSSxXQUFXO0lBRVhHLE9BQU9BLENBQUEsRUFBRztNQUNSN0UsSUFBSSxDQUFDLFdBQVcsQ0FBQztNQUNqQkwsYUFBYSxDQUFDbUYsZ0JBQWdCLENBQUM7UUFBRTFFLE9BQU8sRUFBRTtNQUFrQixDQUFDLENBQUM7SUFDaEU7RUFDRixDQUFDO0FBQ0g7QUFBQyxJQUFBMkUsUUFBQSxHQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FFY3pGLHFCQUFxQiIsImlnbm9yZUxpc3QiOltdfQ==