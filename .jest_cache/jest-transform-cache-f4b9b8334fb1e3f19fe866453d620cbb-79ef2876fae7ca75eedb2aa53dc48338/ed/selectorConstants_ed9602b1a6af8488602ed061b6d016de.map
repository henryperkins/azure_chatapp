{"version":3,"names":["deepFreeze","obj","Object","freeze","key","keys","v","isFrozen","getSel","id","pickKeys","source","out","forEach","k","ID_MAP","projectListView","projectListContainer","projectCardsPanel","projectFilterTabs","loadingState","projectDetailsView","projectDetailsContainer","projectTitle","backToProjectsBtn","chatTab","filesTab","detailsTab","knowledgeTab","settingsTab","chatUIContainer","chatMessages","chatInput","chatSendBtn","chatTitle","newConversationBtn","conversationsList","fileInput","uploadFileBtn","dragDropZone","filesUploadProgress","fileProgressBar","uploadStatus","filesList","indexKbCheckbox","knowledgeStatus","knowledgeBaseInactive","kbStatusBadge","kbToggle","kbDocCount","kbChunkCount","kbModelDisplay","knowledgeBaseName","kbVersionDisplay","kbLastUsedDisplay","knowledgeFileSize","reprocessButton","setupButton","settingsButton","knowledgeBaseFilesSection","knowledgeBaseFilesListContainer","knowledgeBaseSettingsModal","knowledgeBaseForm","cancelKnowledgeBaseFormBtn","deleteKnowledgeBaseBtn","modelSelect","SELECTORS","exports","fromEntries","entries","map","ELEMENT_SELECTORS","KB","frozenBase","base","container","activeSection","inactiveSection","statusBadge","docCount","chunkCount","fileSize","toggle","filesSection","filesListContainer","settingsModal","settingsForm","cancelSettingsBtn","deleteBtn","baseName","modelDisplay","versionDisplay","lastUsedDisplay","CHAT","FILE_UPLOAD","createSelectorConstants","cleanup"],"sources":["selectorConstants.js"],"sourcesContent":["/**\n * selectorConstants.js – Canonical DOM selector IDs (2025 guard-rails)\n * ------------------------------------------------------------------\n * 1.  All values are stored as *ID strings without the leading ‘#’*.\n * 2.  A `getSel(id)` helper returns the CSS selector ‘#id’ – new code should\n *     use this instead of hard-coding ‘#…’ values.\n * 3.  Objects are deeply `Object.freeze()`-d to guarantee immutability which\n *     is enforced by the week-1 selector-constants tests.\n * 4.  Legacy modules that still import `SELECTORS.fooBar` and expect the\n *     *prefixed* form keep working via a proxy that prepends ‘#’ on access.\n */\n\n// ────────────────────────────────────────────────────────────────────────────\n\nfunction deepFreeze (obj) {\n  Object.freeze(obj);\n  for (const key of Object.keys(obj)) {\n    const v = obj[key];\n    if (v && typeof v === 'object' && !Object.isFrozen(v)) deepFreeze(v);\n  }\n  return obj;\n}\n\n/**\n * Convenience helper that converts an *id* (no ‘#’) to a CSS selector string.\n */\nexport function getSel (id) {\n  return `#${id}`;\n}\n\n/**\n * Utility that picks a subset of keys from a source object and deep-freezes\n * the resulting shallow copy.\n */\nexport function pickKeys (source, keys) {\n  const out = {};\n  keys.forEach(k => {\n    if (k in source) out[k] = source[k];\n  });\n  return deepFreeze(out);\n}\n\n// Canonical map (ids only – NO leading #) ──────────────────────────────────\nconst ID_MAP = {\n  /* Project List View */\n  projectListView: 'projectListView',\n  projectListContainer: 'projectListContainer',\n  projectCardsPanel: 'projectCardsPanel',\n  projectFilterTabs: 'projectFilterTabs',\n  loadingState: 'loadingState',\n\n  /* Project Details View */\n  projectDetailsView: 'projectDetailsView',\n  projectDetailsContainer: 'projectDetailsContainer',\n  projectTitle: 'projectTitle',\n  backToProjectsBtn: 'backToProjectsBtn',\n\n  /* Project Tabs */\n  chatTab: 'chatTab',\n  filesTab: 'filesTab',\n  detailsTab: 'detailsTab',\n  knowledgeTab: 'knowledgeTab',\n  settingsTab: 'settingsTab',\n\n  /* Chat UI */\n  chatUIContainer: 'chatUIContainer',\n  chatMessages: 'chatMessages',\n  chatInput: 'chatInput',\n  chatSendBtn: 'chatSendBtn',\n  chatTitle: 'chatTitle',\n  newConversationBtn: 'newConversationBtn',\n  conversationsList: 'conversationsList',\n\n  /* File Upload */\n  fileInput: 'fileInput',\n  uploadFileBtn: 'uploadFileBtn',\n  dragDropZone: 'dragDropZone',\n  filesUploadProgress: 'filesUploadProgress',\n  fileProgressBar: 'fileProgressBar',\n  uploadStatus: 'uploadStatus',\n  filesList: 'filesList',\n  indexKbCheckbox: 'indexKbCheckbox',\n\n  /* Knowledge Base */\n  knowledgeStatus: 'knowledgeStatus',\n  knowledgeBaseInactive: 'knowledgeBaseInactive',\n  kbStatusBadge: 'kbStatusBadge',\n  kbToggle: 'kbToggle',\n  kbDocCount: 'kbDocCount',\n  kbChunkCount: 'kbChunkCount',\n  kbModelDisplay: 'kbModelDisplay',\n  knowledgeBaseName: 'knowledgeBaseName',\n  kbVersionDisplay: 'kbVersionDisplay',\n  kbLastUsedDisplay: 'kbLastUsedDisplay',\n  knowledgeFileSize: 'knowledgeFileSize',\n  reprocessButton: 'reprocessButton',\n  setupButton: 'setupButton',\n  settingsButton: 'settingsButton',\n  knowledgeBaseFilesSection: 'knowledgeBaseFilesSection',\n  knowledgeBaseFilesListContainer: 'knowledgeBaseFilesListContainer',\n  knowledgeBaseSettingsModal: 'knowledgeBaseSettingsModal',\n  knowledgeBaseForm: 'knowledgeBaseForm',\n  cancelKnowledgeBaseFormBtn: 'cancelKnowledgeBaseFormBtn',\n  deleteKnowledgeBaseBtn: 'deleteKnowledgeBaseBtn',\n  modelSelect: 'modelSelect'\n};\n\ndeepFreeze(ID_MAP);\n\nexport const SELECTORS = deepFreeze(\n  Object.fromEntries(\n    Object.entries(ID_MAP).map(([k, v]) => [k, `#${v}`])\n  )\n);\n\n// Derived element groups (id-only) ──────────────────────────────────────────\nexport const ELEMENT_SELECTORS = deepFreeze({\n  KB: (() => {\n    // 1. Pick base keys (returns *frozen* object) – clone to allow aliasing\n    const frozenBase = pickKeys(ID_MAP, [\n      'knowledgeTab', // alias container – renamed below\n      'knowledgeStatus',\n      'knowledgeBaseInactive',\n      'kbStatusBadge',\n      'kbToggle',\n      'kbDocCount',\n      'kbChunkCount',\n      'kbModelDisplay',\n      'knowledgeBaseName',\n      'kbVersionDisplay',\n      'kbLastUsedDisplay',\n      'knowledgeFileSize',\n      'reprocessButton',\n      'setupButton',\n      'settingsButton',\n      'knowledgeBaseFilesSection',\n      'knowledgeBaseFilesListContainer',\n      'knowledgeBaseSettingsModal',\n      'knowledgeBaseForm',\n      'cancelKnowledgeBaseFormBtn',\n      'deleteKnowledgeBaseBtn',\n      'modelSelect'\n    ]);\n\n    // Clone so we can add aliases before freezing\n    const base = { ...frozenBase };\n\n    // Semantic aliases expected by existing KB component code\n    base.container = ID_MAP.knowledgeTab;\n    base.activeSection = ID_MAP.knowledgeStatus;\n    base.inactiveSection = ID_MAP.knowledgeBaseInactive;\n    base.statusBadge = ID_MAP.kbStatusBadge;\n\n    // ------------------------------------------------------------------\n    // Back-compat aliases – existing KB component expects generic names\n    // `docCount` and `chunkCount` instead of the new kebab-prefixed keys.\n    // Add them here so downstream code (knowledgeBaseComponent.js prior to\n    // full refactor) continues to resolve selector IDs without blowing up\n    // when it attempts `.startsWith()` on `undefined`.\n    // ------------------------------------------------------------------\n    base.docCount = ID_MAP.kbDocCount;\n    base.chunkCount = ID_MAP.kbChunkCount;\n    base.fileSize = ID_MAP.knowledgeFileSize; // explicit alias for clarity\n\n    // More semantic/short aliases used by knowledgeBaseComponent ---------\n    base.toggle = ID_MAP.kbToggle;                     // kbToggle ➜ toggle\n    base.filesSection = ID_MAP.knowledgeBaseFilesSection; // long → short\n    base.filesListContainer = ID_MAP.knowledgeBaseFilesListContainer;\n    base.settingsModal = ID_MAP.knowledgeBaseSettingsModal;\n    base.settingsForm = ID_MAP.knowledgeBaseForm;\n    base.cancelSettingsBtn = ID_MAP.cancelKnowledgeBaseFormBtn;\n    base.deleteBtn = ID_MAP.deleteKnowledgeBaseBtn;\n    // Name/display aliases\n    base.baseName = ID_MAP.knowledgeBaseName;\n\n    // Display related aliases used by legacy KB UI code\n    base.modelDisplay = ID_MAP.kbModelDisplay;\n    base.versionDisplay = ID_MAP.kbVersionDisplay;\n    base.lastUsedDisplay = ID_MAP.kbLastUsedDisplay;\n\n    return deepFreeze(base);\n  })(),\n\n  CHAT: pickKeys(ID_MAP, [\n    'chatUIContainer',\n    'chatMessages',\n    'chatInput',\n    'chatSendBtn',\n    'chatTitle',\n    'newConversationBtn',\n    'conversationsList'\n  ]),\n\n  FILE_UPLOAD: pickKeys(ID_MAP, [\n    'fileInput',\n    'uploadFileBtn',\n    'dragDropZone',\n    'filesUploadProgress',\n    'fileProgressBar',\n    'uploadStatus',\n    'filesList',\n    'indexKbCheckbox'\n  ])\n});\n\n// Legacy helper kept for tree-shaking compatibility (no-op cleanup)\nexport function createSelectorConstants () {\n  return {\n    SELECTORS,\n    ELEMENT_SELECTORS,\n    getSel,\n    pickKeys,\n    cleanup () {}\n  };\n}\n"],"mappings":"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","ignoreList":[]}