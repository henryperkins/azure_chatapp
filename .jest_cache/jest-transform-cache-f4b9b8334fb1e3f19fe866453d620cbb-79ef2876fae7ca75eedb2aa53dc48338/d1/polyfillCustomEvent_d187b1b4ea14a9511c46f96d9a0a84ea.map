{"version":3,"names":["createCustomEventPolyfill","browserService","logger","Error","win","getWindow","doc","getDocument","CustomEvent","applied","cleanup","event","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","prototype","Event","info","context"],"sources":["polyfillCustomEvent.js"],"sourcesContent":["export function createCustomEventPolyfill({ browserService, logger } = {}) {\n  if (!browserService) throw new Error('[CustomEventPolyfill] browserService required');\n  const win = browserService.getWindow();\n  const doc = browserService.getDocument();\n  if (typeof win.CustomEvent === 'function')\n    return { applied: false, cleanup () {} };\n\n  function CustomEvent(event, params = { bubbles:false, cancelable:false, detail:undefined }) {\n    const evt = doc.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = win.Event.prototype;\n  win.CustomEvent = CustomEvent;\n\n  logger?.info?.('[CustomEventPolyfill] applied', { context: 'CustomEventPolyfill' });\n  return {\n    applied: true,\n    cleanup () { delete win.CustomEvent; }\n  };\n}\n"],"mappings":";;;;;;AAAO,SAASA,yBAAyBA,CAAC;EAAEC,cAAc;EAAEC;AAAO,CAAC,GAAG,CAAC,CAAC,EAAE;EACzE,IAAI,CAACD,cAAc,EAAE,MAAM,IAAIE,KAAK,CAAC,+CAA+C,CAAC;EACrF,MAAMC,GAAG,GAAGH,cAAc,CAACI,SAAS,CAAC,CAAC;EACtC,MAAMC,GAAG,GAAGL,cAAc,CAACM,WAAW,CAAC,CAAC;EACxC,IAAI,OAAOH,GAAG,CAACI,WAAW,KAAK,UAAU,EACvC,OAAO;IAAEC,OAAO,EAAE,KAAK;IAAEC,OAAOA,CAAA,EAAI,CAAC;EAAE,CAAC;EAE1C,SAASF,WAAWA,CAACG,KAAK,EAAEC,MAAM,GAAG;IAAEC,OAAO,EAAC,KAAK;IAAEC,UAAU,EAAC,KAAK;IAAEC,MAAM,EAACC;EAAU,CAAC,EAAE;IAC1F,MAAMC,GAAG,GAAGX,GAAG,CAACY,WAAW,CAAC,aAAa,CAAC;IAC1CD,GAAG,CAACE,eAAe,CAACR,KAAK,EAAEC,MAAM,CAACC,OAAO,EAAED,MAAM,CAACE,UAAU,EAAEF,MAAM,CAACG,MAAM,CAAC;IAC5E,OAAOE,GAAG;EACZ;EACAT,WAAW,CAACY,SAAS,GAAGhB,GAAG,CAACiB,KAAK,CAACD,SAAS;EAC3ChB,GAAG,CAACI,WAAW,GAAGA,WAAW;EAE7BN,MAAM,EAAEoB,IAAI,GAAG,+BAA+B,EAAE;IAAEC,OAAO,EAAE;EAAsB,CAAC,CAAC;EACnF,OAAO;IACLd,OAAO,EAAE,IAAI;IACbC,OAAOA,CAAA,EAAI;MAAE,OAAON,GAAG,CAACI,WAAW;IAAE;EACvC,CAAC;AACH","ignoreList":[]}