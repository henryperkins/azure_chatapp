{"version":3,"names":["_knowledgeBaseComponent","require","createDependencySystem","modules","Map","register","name","val","set","describe","test","DS","cleanup","sanitize","html","trackListener","cleanupListeners","createCustomEvent","n","d","type","detail","closeModal","getWindow","CustomEvent","global","constructor","getDocument","setInnerHTML","setTextContent","setProperty","addClass","removeClass","dispatchEvent","waitForEvent","Promise","resolve","dependenciesAndElements","debug","info","warn","error","expect","createKnowledgeBaseComponent","DependencySystem","not","toThrow"],"sources":["di-contracts.test.js"],"sourcesContent":["import { createKnowledgeBaseComponent } from '../../static/js/knowledgeBaseComponent.js';\n\nfunction createDependencySystem () {\n  const modules = new Map();\n  return {\n    modules,\n    register (name, val) {\n      modules.set(name, val);\n    }\n  };\n}\n\ndescribe('DI contract â€“ KnowledgeBaseComponent', () => {\n  test('factory instantiates with required dependencies registered in DependencySystem', () => {\n    const DS = createDependencySystem();\n\n    DS.register('KBManagerFactory', () => ({ cleanup () {} }));\n    DS.register('KBSearchHandlerFactory', () => ({ cleanup () {} }));\n    DS.register('sanitizer', { sanitize: (html) => html });\n    DS.register('appModule', {});\n    DS.register('projectManager', {});\n    DS.register('eventHandlers', {\n      trackListener () {},\n      cleanupListeners () {},\n      createCustomEvent: (n, d) => ({ type: n, detail: d })\n    });\n    DS.register('uiUtils', {});\n    DS.register('modalManager', { closeModal () {} });\n    DS.register('domAPI', {\n    getWindow: () => ({ CustomEvent: (typeof global.CustomEvent === 'function') ? global.CustomEvent : class { constructor(n,d){this.type=n; this.detail=d?.detail;} } }),\n      getDocument: () => ({}),\n      setInnerHTML () {},\n      setTextContent () {},\n      setProperty () {},\n      addClass () {},\n      removeClass () {},\n      dispatchEvent () {}\n    });\n    DS.register('domReadinessService', {\n      waitForEvent: () => Promise.resolve(),\n      dependenciesAndElements: () => Promise.resolve()\n    });\n    DS.register('logger', { debug () {}, info () {}, warn () {}, error () {} });\n\n    expect(() => createKnowledgeBaseComponent({ DependencySystem: DS })).not.toThrow();\n  });\n});\n"],"mappings":"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","ignoreList":[]}