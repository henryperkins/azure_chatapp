00df9421cd399815e2f84d9d8ecdf216
"use strict";

var _FileUploadComponent = require("../../static/js/FileUploadComponent.js");
function createDependencySystem() {
  const modules = new Map();
  return {
    modules,
    register(n, v) {
      modules.set(n, v);
    }
  };
}

// Helper to create simple File stub (Node <18 may not support File API)
function createFakeFile(name = 'test.txt', size = 10, type = 'text/plain') {
  try {
    return new File(['x'.repeat(size)], name, {
      type
    });
  } catch {
    // Fallback stub
    return {
      name,
      size,
      type
    };
  }
}
describe('FileUploadComponent – index_kb flag', () => {
  test('passes index_kb=false when checkbox unchecked & emits filesUploaded event', async () => {
    // Make CustomEvent available in Node env
    if (typeof global.CustomEvent !== 'function') {
      global.CustomEvent = class CustomEvent {
        constructor(n, d) {
          this.type = n;
          this.detail = d?.detail;
        }
      };
    }
    const DS = createDependencySystem();
    const authBus = new EventTarget();
    const appBus = new EventTarget();
    DS.register('auth', {
      AuthBus: authBus
    });
    DS.register('AppBus', appBus);
    const capturedEvents = [];
    appBus.addEventListener('knowledgebase:filesUploaded', e => capturedEvents.push(e.detail));

    // Mock projectManager.uploadFileWithRetry – capture args
    const pm = {
      uploadFileWithRetry: jest.fn(() => Promise.resolve(true))
    };

    // DOM stub elements ---------------------------------------------------
    const indexCbEl = {
      checked: false
    };
    const fileInputEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    const uploadBtnEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    const dragZoneEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    const uploadProgressEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    const progressBarEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    const uploadStatusEl = {
      disabled: false,
      classList: {
        add() {},
        remove() {}
      }
    };
    let callIndex = 0;
    const elementsArr = [fileInputEl,
    // fileInput
    uploadBtnEl,
    // uploadBtn
    dragZoneEl,
    // dragZone
    uploadProgressEl,
    // uploadProgress
    progressBarEl,
    // progressBar
    uploadStatusEl,
    // uploadStatus
    indexCbEl // indexKbCheckbox
    ];
    const domAPI = {
      querySelector: sel => {
        if (sel === '#indexKbCheckbox') return indexCbEl;
        return elementsArr[callIndex++] || {
          disabled: false,
          classList: {
            add() {},
            remove() {}
          }
        };
      },
      getWindow: () => ({}),
      getDocument: () => ({
        addEventListener() {},
        removeEventListener() {}
      }),
      addClass() {},
      removeClass() {},
      setProperty() {},
      setInnerHTML() {},
      setTextContent() {},
      dispatchEvent(target, event) {
        // Actually dispatch the event for testing
        if (target && typeof target.dispatchEvent === 'function') {
          target.dispatchEvent(event);
        }
      }
    };
    const eh = {
      DependencySystem: DS,
      trackListener(target, event, handler, options) {
        // Actually register the event listener for testing
        if (target && typeof target.addEventListener === 'function') {
          target.addEventListener(event, handler, options);
        }
      },
      cleanupListeners() {},
      createCustomEvent: (n, d) => new CustomEvent(n, d)
    };
    const logger = {
      debug() {},
      info() {},
      warn() {},
      error() {}
    };
    const comp = (0, _FileUploadComponent.createFileUploadComponent)({
      app: {
        validateUUID: () => true,
        getProjectId: () => 'test-project-123'
      },
      eventHandlers: eh,
      projectManager: pm,
      domAPI,
      logger,
      domReadinessService: {
        dependenciesAndElements: () => Promise.resolve()
      },
      scheduler: {
        setTimeout: fn => fn(),
        clearTimeout() {}
      }
    });
    await comp.init();

    // Simulate selection event with checkbox unchecked
    const fileObj = createFakeFile();
    await comp._handleFileSelection({
      target: {
        files: [fileObj],
        value: null
      }
    });
    await new Promise(resolve => setTimeout(resolve, 0)); // Allow async operations

    expect(pm.uploadFileWithRetry).toHaveBeenCalledTimes(1);
    const [, opts] = pm.uploadFileWithRetry.mock.calls[0];
    expect(opts.index_kb).toBe(false);

    // Ensure filesUploaded dispatched
    expect(capturedEvents.length).toBe(1);
    expect(capturedEvents[0].count).toBe(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfRmlsZVVwbG9hZENvbXBvbmVudCIsInJlcXVpcmUiLCJjcmVhdGVEZXBlbmRlbmN5U3lzdGVtIiwibW9kdWxlcyIsIk1hcCIsInJlZ2lzdGVyIiwibiIsInYiLCJzZXQiLCJjcmVhdGVGYWtlRmlsZSIsIm5hbWUiLCJzaXplIiwidHlwZSIsIkZpbGUiLCJyZXBlYXQiLCJkZXNjcmliZSIsInRlc3QiLCJnbG9iYWwiLCJDdXN0b21FdmVudCIsImNvbnN0cnVjdG9yIiwiZCIsImRldGFpbCIsIkRTIiwiYXV0aEJ1cyIsIkV2ZW50VGFyZ2V0IiwiYXBwQnVzIiwiQXV0aEJ1cyIsImNhcHR1cmVkRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwdXNoIiwicG0iLCJ1cGxvYWRGaWxlV2l0aFJldHJ5IiwiamVzdCIsImZuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbmRleENiRWwiLCJjaGVja2VkIiwiZmlsZUlucHV0RWwiLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInVwbG9hZEJ0bkVsIiwiZHJhZ1pvbmVFbCIsInVwbG9hZFByb2dyZXNzRWwiLCJwcm9ncmVzc0JhckVsIiwidXBsb2FkU3RhdHVzRWwiLCJjYWxsSW5kZXgiLCJlbGVtZW50c0FyciIsImRvbUFQSSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWwiLCJnZXRXaW5kb3ciLCJnZXREb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwic2V0UHJvcGVydHkiLCJzZXRJbm5lckhUTUwiLCJzZXRUZXh0Q29udGVudCIsImRpc3BhdGNoRXZlbnQiLCJ0YXJnZXQiLCJldmVudCIsImVoIiwiRGVwZW5kZW5jeVN5c3RlbSIsInRyYWNrTGlzdGVuZXIiLCJoYW5kbGVyIiwib3B0aW9ucyIsImNsZWFudXBMaXN0ZW5lcnMiLCJjcmVhdGVDdXN0b21FdmVudCIsImxvZ2dlciIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJlcnJvciIsImNvbXAiLCJjcmVhdGVGaWxlVXBsb2FkQ29tcG9uZW50IiwiYXBwIiwidmFsaWRhdGVVVUlEIiwiZ2V0UHJvamVjdElkIiwiZXZlbnRIYW5kbGVycyIsInByb2plY3RNYW5hZ2VyIiwiZG9tUmVhZGluZXNzU2VydmljZSIsImRlcGVuZGVuY2llc0FuZEVsZW1lbnRzIiwic2NoZWR1bGVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImluaXQiLCJmaWxlT2JqIiwiX2hhbmRsZUZpbGVTZWxlY3Rpb24iLCJmaWxlcyIsInZhbHVlIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwib3B0cyIsIm1vY2siLCJjYWxscyIsImluZGV4X2tiIiwidG9CZSIsImxlbmd0aCIsImNvdW50Il0sInNvdXJjZXMiOlsidXBsb2FkLXRvZ2dsZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUZpbGVVcGxvYWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zdGF0aWMvanMvRmlsZVVwbG9hZENvbXBvbmVudC5qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZURlcGVuZGVuY3lTeXN0ZW0gKCkge1xuICBjb25zdCBtb2R1bGVzID0gbmV3IE1hcCgpO1xuICByZXR1cm4ge1xuICAgIG1vZHVsZXMsXG4gICAgcmVnaXN0ZXIgKG4sIHYpIHsgbW9kdWxlcy5zZXQobiwgdik7IH1cbiAgfTtcbn1cblxuLy8gSGVscGVyIHRvIGNyZWF0ZSBzaW1wbGUgRmlsZSBzdHViIChOb2RlIDwxOCBtYXkgbm90IHN1cHBvcnQgRmlsZSBBUEkpXG5mdW5jdGlvbiBjcmVhdGVGYWtlRmlsZSAobmFtZSA9ICd0ZXN0LnR4dCcsIHNpemUgPSAxMCwgdHlwZSA9ICd0ZXh0L3BsYWluJykge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRmlsZShbJ3gnLnJlcGVhdChzaXplKV0sIG5hbWUsIHsgdHlwZSB9KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gRmFsbGJhY2sgc3R1YlxuICAgIHJldHVybiB7IG5hbWUsIHNpemUsIHR5cGUgfTtcbiAgfVxufVxuXG5kZXNjcmliZSgnRmlsZVVwbG9hZENvbXBvbmVudCDigJMgaW5kZXhfa2IgZmxhZycsICgpID0+IHtcbiAgdGVzdCgncGFzc2VzIGluZGV4X2tiPWZhbHNlIHdoZW4gY2hlY2tib3ggdW5jaGVja2VkICYgZW1pdHMgZmlsZXNVcGxvYWRlZCBldmVudCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNYWtlIEN1c3RvbUV2ZW50IGF2YWlsYWJsZSBpbiBOb2RlIGVudlxuICAgIGlmICh0eXBlb2YgZ2xvYmFsLkN1c3RvbUV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBnbG9iYWwuQ3VzdG9tRXZlbnQgPSBjbGFzcyBDdXN0b21FdmVudCB7IGNvbnN0cnVjdG9yIChuLCBkKSB7IHRoaXMudHlwZSA9IG47IHRoaXMuZGV0YWlsID0gZD8uZGV0YWlsOyB9IH07XG4gICAgfVxuXG4gICAgY29uc3QgRFMgPSBjcmVhdGVEZXBlbmRlbmN5U3lzdGVtKCk7XG4gICAgY29uc3QgYXV0aEJ1cyA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIGNvbnN0IGFwcEJ1cyA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIERTLnJlZ2lzdGVyKCdhdXRoJywgeyBBdXRoQnVzOiBhdXRoQnVzIH0pO1xuICAgIERTLnJlZ2lzdGVyKCdBcHBCdXMnLCBhcHBCdXMpO1xuXG4gICAgY29uc3QgY2FwdHVyZWRFdmVudHMgPSBbXTtcbiAgICBhcHBCdXMuYWRkRXZlbnRMaXN0ZW5lcigna25vd2xlZGdlYmFzZTpmaWxlc1VwbG9hZGVkJywgKGUpID0+IGNhcHR1cmVkRXZlbnRzLnB1c2goZS5kZXRhaWwpKTtcblxuICAgIC8vIE1vY2sgcHJvamVjdE1hbmFnZXIudXBsb2FkRmlsZVdpdGhSZXRyeSDigJMgY2FwdHVyZSBhcmdzXG4gICAgY29uc3QgcG0gPSB7XG4gICAgICB1cGxvYWRGaWxlV2l0aFJldHJ5OiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSlcbiAgICB9O1xuXG4gICAgLy8gRE9NIHN0dWIgZWxlbWVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY29uc3QgaW5kZXhDYkVsID0geyBjaGVja2VkOiBmYWxzZSB9O1xuICAgIGNvbnN0IGZpbGVJbnB1dEVsID0geyBkaXNhYmxlZDogZmFsc2UsIGNsYXNzTGlzdDogeyBhZGQgKCkge30sIHJlbW92ZSAoKSB7fSB9IH07XG4gICAgY29uc3QgdXBsb2FkQnRuRWwgPSB7IGRpc2FibGVkOiBmYWxzZSwgY2xhc3NMaXN0OiB7IGFkZCAoKSB7fSwgcmVtb3ZlICgpIHt9IH0gfTtcbiAgICBjb25zdCBkcmFnWm9uZUVsID0geyBkaXNhYmxlZDogZmFsc2UsIGNsYXNzTGlzdDogeyBhZGQgKCkge30sIHJlbW92ZSAoKSB7fSB9IH07XG4gICAgY29uc3QgdXBsb2FkUHJvZ3Jlc3NFbCA9IHsgZGlzYWJsZWQ6IGZhbHNlLCBjbGFzc0xpc3Q6IHsgYWRkICgpIHt9LCByZW1vdmUgKCkge30gfSB9O1xuICAgIGNvbnN0IHByb2dyZXNzQmFyRWwgPSB7IGRpc2FibGVkOiBmYWxzZSwgY2xhc3NMaXN0OiB7IGFkZCAoKSB7fSwgcmVtb3ZlICgpIHt9IH0gfTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXNFbCA9IHsgZGlzYWJsZWQ6IGZhbHNlLCBjbGFzc0xpc3Q6IHsgYWRkICgpIHt9LCByZW1vdmUgKCkge30gfSB9O1xuXG4gICAgbGV0IGNhbGxJbmRleCA9IDA7XG4gICAgY29uc3QgZWxlbWVudHNBcnIgPSBbXG4gICAgICBmaWxlSW5wdXRFbCwgICAgICAvLyBmaWxlSW5wdXRcbiAgICAgIHVwbG9hZEJ0bkVsLCAgICAgIC8vIHVwbG9hZEJ0blxuICAgICAgZHJhZ1pvbmVFbCwgICAgICAgLy8gZHJhZ1pvbmVcbiAgICAgIHVwbG9hZFByb2dyZXNzRWwsIC8vIHVwbG9hZFByb2dyZXNzXG4gICAgICBwcm9ncmVzc0JhckVsLCAgICAvLyBwcm9ncmVzc0JhclxuICAgICAgdXBsb2FkU3RhdHVzRWwsICAgLy8gdXBsb2FkU3RhdHVzXG4gICAgICBpbmRleENiRWwgICAgICAgICAvLyBpbmRleEtiQ2hlY2tib3hcbiAgICBdO1xuXG4gICAgY29uc3QgZG9tQVBJID0ge1xuICAgICAgcXVlcnlTZWxlY3RvcjogKHNlbCkgPT4ge1xuICAgICAgICBpZiAoc2VsID09PSAnI2luZGV4S2JDaGVja2JveCcpIHJldHVybiBpbmRleENiRWw7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0FycltjYWxsSW5kZXgrK10gfHwgeyBkaXNhYmxlZDogZmFsc2UsIGNsYXNzTGlzdDogeyBhZGQgKCkge30sIHJlbW92ZSAoKSB7fSB9IH07XG4gICAgICB9LFxuICAgICAgZ2V0V2luZG93OiAoKSA9PiAoe30pLFxuICAgICAgZ2V0RG9jdW1lbnQ6ICgpID0+ICh7IGFkZEV2ZW50TGlzdGVuZXIgKCkge30sIHJlbW92ZUV2ZW50TGlzdGVuZXIgKCkge30gfSksXG4gICAgICBhZGRDbGFzcyAoKSB7fSxcbiAgICAgIHJlbW92ZUNsYXNzICgpIHt9LFxuICAgICAgc2V0UHJvcGVydHkgKCkge30sXG4gICAgICBzZXRJbm5lckhUTUwgKCkge30sIHNldFRleHRDb250ZW50ICgpIHt9LCBcbiAgICAgIGRpc3BhdGNoRXZlbnQgKHRhcmdldCwgZXZlbnQpIHtcbiAgICAgICAgLy8gQWN0dWFsbHkgZGlzcGF0Y2ggdGhlIGV2ZW50IGZvciB0ZXN0aW5nXG4gICAgICAgIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldC5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGVoID0ge1xuICAgICAgRGVwZW5kZW5jeVN5c3RlbTogRFMsXG4gICAgICB0cmFja0xpc3RlbmVyICh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEFjdHVhbGx5IHJlZ2lzdGVyIHRoZSBldmVudCBsaXN0ZW5lciBmb3IgdGVzdGluZ1xuICAgICAgICBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNsZWFudXBMaXN0ZW5lcnMgKCkge30sXG4gICAgICBjcmVhdGVDdXN0b21FdmVudDogKG4sZCkgPT4gbmV3IEN1c3RvbUV2ZW50KG4sIGQpXG4gICAgfTtcblxuICAgIGNvbnN0IGxvZ2dlciA9IHsgZGVidWcgKCkge30sIGluZm8gKCkge30sIHdhcm4gKCkge30sIGVycm9yICgpIHt9IH07XG5cbiAgICBjb25zdCBjb21wID0gY3JlYXRlRmlsZVVwbG9hZENvbXBvbmVudCh7XG4gICAgICBhcHA6IHsgdmFsaWRhdGVVVUlEOiAoKSA9PiB0cnVlLCBnZXRQcm9qZWN0SWQ6ICgpID0+ICd0ZXN0LXByb2plY3QtMTIzJyB9LFxuICAgICAgZXZlbnRIYW5kbGVyczogZWgsXG4gICAgICBwcm9qZWN0TWFuYWdlcjogcG0sXG4gICAgICBkb21BUEksXG4gICAgICBsb2dnZXIsXG4gICAgICBkb21SZWFkaW5lc3NTZXJ2aWNlOiB7IGRlcGVuZGVuY2llc0FuZEVsZW1lbnRzOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSB9LFxuICAgICAgc2NoZWR1bGVyOiB7IHNldFRpbWVvdXQ6IChmbikgPT4gZm4oKSwgY2xlYXJUaW1lb3V0ICgpIHt9IH1cbiAgICB9KTtcblxuICAgIGF3YWl0IGNvbXAuaW5pdCgpO1xuXG4gICAgLy8gU2ltdWxhdGUgc2VsZWN0aW9uIGV2ZW50IHdpdGggY2hlY2tib3ggdW5jaGVja2VkXG4gICAgY29uc3QgZmlsZU9iaiA9IGNyZWF0ZUZha2VGaWxlKCk7XG4gICAgYXdhaXQgY29tcC5faGFuZGxlRmlsZVNlbGVjdGlvbih7IHRhcmdldDogeyBmaWxlczogW2ZpbGVPYmpdLCB2YWx1ZTogbnVsbCB9IH0pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7IC8vIEFsbG93IGFzeW5jIG9wZXJhdGlvbnNcblxuICAgIGV4cGVjdChwbS51cGxvYWRGaWxlV2l0aFJldHJ5KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgY29uc3QgWywgb3B0c10gPSBwbS51cGxvYWRGaWxlV2l0aFJldHJ5Lm1vY2suY2FsbHNbMF07XG4gICAgZXhwZWN0KG9wdHMuaW5kZXhfa2IpLnRvQmUoZmFsc2UpO1xuXG4gICAgLy8gRW5zdXJlIGZpbGVzVXBsb2FkZWQgZGlzcGF0Y2hlZFxuICAgIGV4cGVjdChjYXB0dXJlZEV2ZW50cy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KGNhcHR1cmVkRXZlbnRzWzBdLmNvdW50KS50b0JlKDEpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLG9CQUFBLEdBQUFDLE9BQUE7QUFFQSxTQUFTQyxzQkFBc0JBLENBQUEsRUFBSTtFQUNqQyxNQUFNQyxPQUFPLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7RUFDekIsT0FBTztJQUNMRCxPQUFPO0lBQ1BFLFFBQVFBLENBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFO01BQUVKLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDRixDQUFDLEVBQUVDLENBQUMsQ0FBQztJQUFFO0VBQ3ZDLENBQUM7QUFDSDs7QUFFQTtBQUNBLFNBQVNFLGNBQWNBLENBQUVDLElBQUksR0FBRyxVQUFVLEVBQUVDLElBQUksR0FBRyxFQUFFLEVBQUVDLElBQUksR0FBRyxZQUFZLEVBQUU7RUFDMUUsSUFBSTtJQUNGLE9BQU8sSUFBSUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDQyxNQUFNLENBQUNILElBQUksQ0FBQyxDQUFDLEVBQUVELElBQUksRUFBRTtNQUFFRTtJQUFL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