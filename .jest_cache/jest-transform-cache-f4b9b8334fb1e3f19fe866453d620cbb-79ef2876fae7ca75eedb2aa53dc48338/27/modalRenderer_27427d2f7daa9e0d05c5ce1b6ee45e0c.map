{"version":3,"names":["createModalRenderer","domAPI","browserService","logger","sanitizer","MODULE","Error","_log","msg","extra","debug","context","_logError","err","error","stack","scrollLockCount","originalScrollPosition","manageBodyScroll","enableScroll","document","getDocument","body","scrollingEl","documentElement","getWindow","pageYOffset","scrollTop","style","position","top","width","overflow","scrollPosition","Math","max","setTimeout","scrollTo","restoredPosition","showModalElement","modalEl","showModal","modalId","id","display","removeClass","setAttribute","firstFocusable","querySelector","focus","hideModalElement","close","addClass","findModalElement","getElementById","updateModalContent","content","options","sanitize","selector","targetEl","sanitizedContent","setInnerHTML","removeAllChildren","appendChild","contentLength","length","setModalTitle","title","titleEl","setTextContent","createModalBackdrop","backdrop","createElement","className","backdropId","removeModalBackdrop","remove","isModalVisible","isDialogOpen","tagName","open","isElementVisible","hasClass","getAttribute","getModalSize","rect","getBoundingClientRect","height","x","y","centerModal","window","size","centerX","innerWidth","centerY","innerHeight","left","getScrollLockCount","getOriginalScrollPosition","cleanup","_default","exports","default"],"sources":["modalRenderer.js"],"sourcesContent":["/**\n * ModalRenderer - extracted modal DOM manipulation (Phase-2)\n * ---------------------------------------------------------\n * Handles modal DOM operations, scroll management, dialog element interactions,\n * and modal visibility. Extracted from oversized modalManager.js.\n */\n\nexport function createModalRenderer({\n  domAPI,\n  browserService,\n  logger,\n  sanitizer\n} = {}) {\n  const MODULE = 'ModalRenderer';\n\n  if (!domAPI || !browserService || !logger || !sanitizer) {\n    throw new Error(`[${MODULE}] Required dependencies missing: domAPI, browserService, logger, sanitizer`);\n  }\n\n  const _log = (msg, extra = {}) => logger?.debug?.(`[${MODULE}] ${msg}`, {\n    context: MODULE,\n    ...extra\n  });\n\n  const _logError = (msg, err, extra = {}) => {\n    logger?.error?.(`[${MODULE}] ${msg}`, err?.stack || err, {\n      context: MODULE,\n      ...extra\n    });\n  };\n\n  // Track body scroll state\n  let scrollLockCount = 0;\n  let originalScrollPosition = 0;\n\n  function manageBodyScroll(enableScroll) {\n    try {\n      const document = domAPI.getDocument();\n      const body = document.body;\n      const scrollingEl = document.documentElement || body;\n\n      if (!enableScroll) {\n        // Disable scroll\n        scrollLockCount++;\n        if (scrollLockCount === 1) {\n          // Store current scroll position\n          originalScrollPosition = browserService.getWindow().pageYOffset || scrollingEl.scrollTop || 0;\n          \n          // Apply scroll lock styles\n          body.style.position = 'fixed';\n          body.style.top = `-${originalScrollPosition}px`;\n          body.style.width = '100%';\n          body.style.overflow = 'hidden';\n          \n          _log('Body scroll disabled', { scrollPosition: originalScrollPosition });\n        }\n      } else {\n        // Enable scroll\n        scrollLockCount = Math.max(0, scrollLockCount - 1);\n        if (scrollLockCount === 0) {\n          // Remove scroll lock styles\n          body.style.position = '';\n          body.style.top = '';\n          body.style.width = '';\n          body.style.overflow = '';\n          \n          // Restore scroll position\n          setTimeout(() => {\n            if (typeof scrollingEl.scrollTo === 'function') {\n              scrollingEl.scrollTo(0, originalScrollPosition);\n            } else {\n              scrollingEl.scrollTop = originalScrollPosition;\n            }\n          }, 0);\n          \n          _log('Body scroll enabled', { restoredPosition: originalScrollPosition });\n        }\n      }\n    } catch (err) {\n      _logError('Failed to manage body scroll', err, { enableScroll });\n    }\n  }\n\n  function showModalElement(modalEl) {\n    if (!modalEl) {\n      _logError('showModalElement: modal element required');\n      return false;\n    }\n\n    try {\n      // Use native dialog API if available\n      if (typeof modalEl.showModal === 'function') {\n        modalEl.showModal();\n        _log('Modal shown using native dialog API', { modalId: modalEl.id });\n      } else {\n        // Fallback for non-dialog elements\n        modalEl.style.display = 'block';\n        domAPI.removeClass(modalEl, 'hidden');\n        modalEl.setAttribute('aria-hidden', 'false');\n        _log('Modal shown using fallback method', { modalId: modalEl.id });\n      }\n\n      // Disable body scroll\n      manageBodyScroll(false);\n\n      // Focus management\n      const firstFocusable = modalEl.querySelector(\n        'button, [href], input:not([type=\"hidden\"]), select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      if (firstFocusable) {\n        setTimeout(() => firstFocusable.focus(), 100);\n      }\n\n      return true;\n    } catch (err) {\n      _logError('Failed to show modal element', err, { modalId: modalEl.id });\n      return false;\n    }\n  }\n\n  function hideModalElement(modalEl) {\n    if (!modalEl) {\n      _logError('hideModalElement: modal element required');\n      return false;\n    }\n\n    try {\n      // Use native dialog API if available\n      if (typeof modalEl.close === 'function') {\n        modalEl.close();\n        _log('Modal hidden using native dialog API', { modalId: modalEl.id });\n      } else {\n        // Fallback for non-dialog elements\n        modalEl.style.display = 'none';\n        domAPI.addClass(modalEl, 'hidden');\n        modalEl.setAttribute('aria-hidden', 'true');\n        _log('Modal hidden using fallback method', { modalId: modalEl.id });\n      }\n\n      // Re-enable body scroll\n      manageBodyScroll(true);\n\n      return true;\n    } catch (err) {\n      _logError('Failed to hide modal element', err, { modalId: modalEl.id });\n      return false;\n    }\n  }\n\n  function findModalElement(modalId) {\n    if (!modalId) return null;\n\n    try {\n      const modalEl = domAPI.getElementById(modalId);\n      if (!modalEl) {\n        _log('Modal element not found', { modalId });\n        return null;\n      }\n      return modalEl;\n    } catch (err) {\n      _logError('Failed to find modal element', err, { modalId });\n      return null;\n    }\n  }\n\n  function updateModalContent(modalEl, content, options = {}) {\n    if (!modalEl || !content) {\n      _logError('updateModalContent: modal element and content required');\n      return false;\n    }\n\n    try {\n      const { sanitize = true, selector = '.modal-content' } = options;\n      \n      let targetEl = modalEl;\n      if (selector) {\n        targetEl = modalEl.querySelector(selector) || modalEl;\n      }\n\n      const sanitizedContent = sanitize ? sanitizer.sanitize(content) : content;\n      \n      if (typeof content === 'string') {\n        domAPI.setInnerHTML(targetEl, sanitizedContent);\n      } else {\n        // Assume it's a DOM element\n        domAPI.removeAllChildren(targetEl);\n        domAPI.appendChild(targetEl, content);\n      }\n\n      _log('Modal content updated', { \n        modalId: modalEl.id, \n        contentLength: typeof content === 'string' ? content.length : 'DOM element',\n        selector \n      });\n      return true;\n    } catch (err) {\n      _logError('Failed to update modal content', err, { modalId: modalEl.id });\n      return false;\n    }\n  }\n\n  function setModalTitle(modalEl, title) {\n    if (!modalEl || !title) return false;\n\n    try {\n      const titleEl = modalEl.querySelector('.modal-title, h1, h2, h3');\n      if (titleEl) {\n        domAPI.setTextContent(titleEl, sanitizer.sanitize(title));\n        _log('Modal title updated', { modalId: modalEl.id, title });\n        return true;\n      }\n      return false;\n    } catch (err) {\n      _logError('Failed to set modal title', err, { modalId: modalEl.id, title });\n      return false;\n    }\n  }\n\n  function createModalBackdrop(modalId) {\n    try {\n      const document = domAPI.getDocument();\n      const backdrop = document.createElement('div');\n      backdrop.className = 'modal-backdrop fade show';\n      backdrop.id = `${modalId}-backdrop`;\n      backdrop.setAttribute('aria-hidden', 'true');\n      \n      document.body.appendChild(backdrop);\n      \n      _log('Modal backdrop created', { modalId, backdropId: backdrop.id });\n      return backdrop;\n    } catch (err) {\n      _logError('Failed to create modal backdrop', err, { modalId });\n      return null;\n    }\n  }\n\n  function removeModalBackdrop(modalId) {\n    try {\n      const backdrop = domAPI.getElementById(`${modalId}-backdrop`);\n      if (backdrop) {\n        backdrop.remove();\n        _log('Modal backdrop removed', { modalId });\n        return true;\n      }\n      return false;\n    } catch (err) {\n      _logError('Failed to remove modal backdrop', err, { modalId });\n      return false;\n    }\n  }\n\n  function isModalVisible(modalEl) {\n    if (!modalEl) return false;\n\n    try {\n      const isDialogOpen = modalEl.tagName === 'DIALOG' && modalEl.open;\n      const isElementVisible = modalEl.style.display !== 'none' && \n                              !domAPI.hasClass(modalEl, 'hidden') &&\n                              modalEl.getAttribute('aria-hidden') !== 'true';\n      \n      return isDialogOpen || isElementVisible;\n    } catch (err) {\n      _logError('Failed to check modal visibility', err, { modalId: modalEl.id });\n      return false;\n    }\n  }\n\n  function getModalSize(modalEl) {\n    if (!modalEl) return null;\n\n    try {\n      const rect = modalEl.getBoundingClientRect();\n      return {\n        width: rect.width,\n        height: rect.height,\n        x: rect.x,\n        y: rect.y\n      };\n    } catch (err) {\n      _logError('Failed to get modal size', err, { modalId: modalEl.id });\n      return null;\n    }\n  }\n\n  function centerModal(modalEl) {\n    if (!modalEl) return false;\n\n    try {\n      const window = browserService.getWindow();\n      const size = getModalSize(modalEl);\n      \n      if (size) {\n        const centerX = (window.innerWidth - size.width) / 2;\n        const centerY = (window.innerHeight - size.height) / 2;\n        \n        modalEl.style.left = `${Math.max(0, centerX)}px`;\n        modalEl.style.top = `${Math.max(0, centerY)}px`;\n        \n        _log('Modal centered', { modalId: modalEl.id, centerX, centerY });\n        return true;\n      }\n      return false;\n    } catch (err) {\n      _logError('Failed to center modal', err, { modalId: modalEl.id });\n      return false;\n    }\n  }\n\n  return {\n    // Core modal operations\n    showModalElement,\n    hideModalElement,\n    findModalElement,\n    isModalVisible,\n\n    // Content management\n    updateModalContent,\n    setModalTitle,\n\n    // Layout and positioning\n    centerModal,\n    getModalSize,\n\n    // Backdrop management\n    createModalBackdrop,\n    removeModalBackdrop,\n\n    // Scroll management\n    manageBodyScroll,\n\n    // Utility methods\n    getScrollLockCount: () => scrollLockCount,\n    getOriginalScrollPosition: () => originalScrollPosition,\n\n    cleanup() {\n      _log('cleanup()');\n      // Restore scroll if locked\n      if (scrollLockCount > 0) {\n        scrollLockCount = 0;\n        manageBodyScroll(true);\n      }\n    }\n  };\n}\n\nexport default createModalRenderer;"],"mappings":"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","ignoreList":[]}