2fc12c1f6317630d1336723cf3b5c91f
"use strict";

var _jsdom = require("jsdom");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); } /**
 * Regression test for skeleton UI cleanup in projectListComponent
 * Tests that skeleton elements are properly removed and never orphaned
 */
// Mock dependencies
const createMockDeps = () => {
  const dom = new _jsdom.JSDOM('<!DOCTYPE html><div id="projectListContainer"></div>', {
    url: "http://localhost",
    pretendToBeVisual: true,
    resources: "usable"
  });
  const document = dom.window.document;
  const window = dom.window;

  // Mock localStorage
  const localStorageMock = {
    getItem: jest.fn(() => null),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
  };
  Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
  });
  return {
    DependencySystem: {
      modules: {
        get: () => null
      }
    },
    eventHandlers: {
      trackListener: jest.fn(),
      cleanupListeners: jest.fn()
    },
    modalManager: {
      show: jest.fn()
    },
    app: {
      state: {
        isAuthenticated: true
      }
    },
    storage: {
      getItem: jest.fn(() => null)
    },
    sanitizer: {
      sanitize: html => html
    },
    apiClient: {},
    domAPI: {
      getDocument: () => document,
      getElementById: id => document.getElementById(id),
      querySelector: (sel, parent = document) => parent.querySelector(sel),
      querySelectorAll: (sel, parent = document) => parent.querySelectorAll(sel),
      createElement: tag => document.createElement(tag),
      setInnerHTML: (el, html) => {
        el.innerHTML = html;
      },
      dispatchEvent: jest.fn()
    },
    browserService: {
      getWindow: () => ({
        ...window,
        requestAnimationFrame: fn => setTimeout(fn, 0)
      }),
      setTimeout: (fn, delay) => setTimeout(fn, delay)
    },
    globalUtils: {},
    domReadinessService: {
      dependenciesAndElements: jest.fn().mockResolvedValue(true),
      waitForEvent: jest.fn().mockResolvedValue(true)
    },
    APP_CONFIG: {
      TIMEOUTS: {}
    },
    logger: {
      info: jest.fn(),
      warn: jest.fn(),
      error: jest.fn(),
      debug: jest.fn()
    }
  };
};
describe('ProjectListComponent Skeleton Cleanup', () => {
  let component;
  let deps;
  let document;
  beforeEach(async () => {
    // Import component dynamically to avoid module loading issues
    const {
      createProjectListComponent
    } = await Promise.resolve().then(() => _interopRequireWildcard(require('../static/js/projectListComponent.js')));
    deps = createMockDeps();
    document = deps.domAPI.getDocument();

    // Create container and grid elements
    const container = document.getElementById('projectListContainer');
    container.innerHTML = '<div class="mobile-grid" id="projectCardsPanel"></div>';
    component = createProjectListComponent(deps);
    await component.initialize();
  });
  afterEach(() => {
    if (component?.destroy) {
      component.destroy();
    }
  });
  test('should remove all skeleton elements when renderProjects is called', async () => {
    // Show loading state to create skeletons
    const gridElement = document.querySelector('.mobile-grid');
    expect(gridElement).toBeTruthy();

    // Manually create skeletons (simulating _showLoadingState)
    for (let i = 0; i < 6; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      gridElement.appendChild(skeleton);
    }

    // Verify skeletons exist
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(6);

    // Call renderProjects with mock data
    const mockProjects = [{
      id: '1',
      name: 'Test Project 1'
    }, {
      id: '2',
      name: 'Test Project 2'
    }];
    component.renderProjects(mockProjects);

    // Verify all skeletons are removed
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(0);
  });
  test('should prevent skeleton duplication on multiple _showLoadingState calls', () => {
    const gridElement = document.querySelector('.mobile-grid');

    // Simulate calling _showLoadingState multiple times
    // (We'll manually create skeletons to test the cleanup logic)

    // First call - create initial skeletons
    for (let i = 0; i < 6; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      gridElement.appendChild(skeleton);
    }
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(6);

    // Second call - should remove old skeletons before creating new ones
    // (This simulates the _removeAllSkeletons() call in _showLoadingState)
    document.querySelectorAll('.animate-pulse').forEach(el => el.remove());
    for (let i = 0; i < 6; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      gridElement.appendChild(skeleton);
    }

    // Should still only have 6 skeletons, not 12
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(6);
  });
  test('should handle grid element reassignment without orphaning skeletons', () => {
    const container = document.getElementById('projectListContainer');
    const originalGrid = document.querySelector('.mobile-grid');

    // Add skeletons to original grid
    for (let i = 0; i < 3; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      originalGrid.appendChild(skeleton);
    }
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(3);

    // Create new grid (simulating template injection)
    const newGrid = document.createElement('div');
    newGrid.className = 'mobile-grid';
    newGrid.id = 'projectCardsPanel-new';
    container.appendChild(newGrid);

    // Simulate the fix logic from projectListHtmlLoaded
    const oldSkeletons = originalGrid.querySelectorAll('.animate-pulse');
    oldSkeletons.forEach(skeleton => skeleton.remove());
    if (!originalGrid.parentNode) {
      originalGrid.remove();
    }

    // Verify skeletons are cleaned up
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(0);
  });
  test('should handle renderProjects with empty data gracefully', () => {
    // Create skeletons first
    const gridElement = document.querySelector('.mobile-grid');
    for (let i = 0; i < 6; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      gridElement.appendChild(skeleton);
    }
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(6);

    // Call renderProjects with empty array
    component.renderProjects([]);

    // Skeletons should be removed even for empty results
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(0);
  });
  test('should handle renderProjects with auth error gracefully', () => {
    // Create skeletons first
    const gridElement = document.querySelector('.mobile-grid');
    for (let i = 0; i < 6; i++) {
      const skeleton = document.createElement('div');
      skeleton.className = 'bg-base-200 animate-pulse rounded-box p-4 mb-2 max-w-full w-full';
      gridElement.appendChild(skeleton);
    }
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(6);

    // Call renderProjects with auth error
    component.renderProjects({
      error: 'Unauthorized',
      reason: 'auth_required'
    });

    // Skeletons should be removed even for auth errors
    expect(document.querySelectorAll('.animate-pulse')).toHaveLength(0);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNkb20iLCJyZXF1aXJlIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjcmVhdGVNb2NrRGVwcyIsImRvbSIsIkpTRE9NIiwidXJsIiwicHJldGVuZFRvQmVWaXN1YWwiLCJyZXNvdXJjZXMiLCJkb2N1bWVudCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZU1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsInZhbHVlIiwiRGVwZW5kZW5jeVN5c3RlbSIsIm1vZHVsZXMiLCJldmVudEhhbmRsZXJzIiwidHJhY2tMaXN0ZW5lciIsImNsZWFudXBMaXN0ZW5lcnMiLCJtb2RhbE1hbmFnZXIiLCJzaG93IiwiYXBwIiwic3RhdGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzdG9yYWdlIiwic2FuaXRpemVyIiwic2FuaXRpemUiLCJodG1sIiwiYXBpQ2xpZW50IiwiZG9tQVBJIiwiZ2V0RG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwicXVlcnlTZWxlY3RvciIsInNlbCIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVFbGVtZW50IiwidGFnIiwic2V0SW5uZXJIVE1MIiwiZWwiLCJpbm5lckhUTUwiLCJkaXNwYXRjaEV2ZW50IiwiYnJvd3NlclNlcnZpY2UiLCJnZXRXaW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiZGVsYXkiLCJnbG9iYWxVdGlscyIsImRvbVJlYWRpbmVzc1NlcnZpY2UiLCJkZXBlbmRlbmNpZXNBbmRFbGVtZW50cyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwid2FpdEZvckV2ZW50IiwiQVBQX0NPTkZJRyIsIlRJTUVPVVRTIiwibG9nZ2VyIiwiaW5mbyIsIndhcm4iLCJlcnJvciIsImRlYnVnIiwiZGVzY3JpYmUiLCJjb21wb25lbnQiLCJkZXBzIiwiYmVmb3JlRWFjaCIsImNyZWF0ZVByb2plY3RMaXN0Q29tcG9uZW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiY29udGFpbmVyIiwiaW5pdGlhbGl6ZSIsImFmdGVyRWFjaCIsImRlc3Ryb3kiLCJ0ZXN0IiwiZ3JpZEVsZW1lbnQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5Iiwic2tlbGV0b24iLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInRvSGF2ZUxlbmd0aCIsIm1vY2tQcm9qZWN0cyIsIm5hbWUiLCJyZW5kZXJQcm9qZWN0cyIsImZvckVhY2giLCJyZW1vdmUiLCJvcmlnaW5hbEdyaWQiLCJuZXdHcmlkIiwib2xkU2tlbGV0b25zIiwicGFyZW50Tm9kZSIsInJlYXNvbiJdLCJzb3VyY2VzIjpbInByb2plY3RMaXN0Q29tcG9uZW50LnNrZWxldG9uLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZWdyZXNzaW9uIHRlc3QgZm9yIHNrZWxldG9uIFVJIGNsZWFudXAgaW4gcHJvamVjdExpc3RDb21wb25lbnRcbiAqIFRlc3RzIHRoYXQgc2tlbGV0b24gZWxlbWVudHMgYXJlIHByb3Blcmx5IHJlbW92ZWQgYW5kIG5ldmVyIG9ycGhhbmVkXG4gKi9cblxuaW1wb3J0IHsgSlNET00gfSBmcm9tICdqc2RvbSc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5jb25zdCBjcmVhdGVNb2NrRGVwcyA9ICgpID0+IHtcbiAgY29uc3QgZG9tID0gbmV3IEpTRE9NKCc8IURPQ1RZUEUgaHRtbD48ZGl2IGlkPVwicHJvamVjdExpc3RDb250YWluZXJcIj48L2Rpdj4nLCB7XG4gICAgdXJsOiBcImh0dHA6Ly9sb2NhbGhvc3RcIixcbiAgICBwcmV0ZW5kVG9CZVZpc3VhbDogdHJ1ZSxcbiAgICByZXNvdXJjZXM6IFwidXNhYmxlXCJcbiAgfSk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZG9tLndpbmRvdy5kb2N1bWVudDtcbiAgY29uc3Qgd2luZG93ID0gZG9tLndpbmRvdztcbiAgXG4gIC8vIE1vY2sgbG9jYWxTdG9yYWdlXG4gIGNvbnN0IGxvY2FsU3RvcmFnZU1vY2sgPSB7XG4gICAgZ2V0SXRlbTogamVzdC5mbigoKSA9PiBudWxsKSxcbiAgICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgIGNsZWFyOiBqZXN0LmZuKClcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHsgdmFsdWU6IGxvY2FsU3RvcmFnZU1vY2sgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBEZXBlbmRlbmN5U3lzdGVtOiB7IG1vZHVsZXM6IHsgZ2V0OiAoKSA9PiBudWxsIH0gfSxcbiAgICBldmVudEhhbmRsZXJzOiB7IFxuICAgICAgdHJhY2tMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgICAgY2xlYW51cExpc3RlbmVyczogamVzdC5mbigpXG4gICAgfSxcbiAgICBtb2RhbE1hbmFnZXI6IHsgc2hvdzogamVzdC5mbigpIH0sXG4gICAgYXBwOiB7IHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSB9IH0sXG4gICAgc3RvcmFnZTogeyBnZXRJdGVtOiBqZXN0LmZuKCgpID0+IG51bGwpIH0sXG4gICAgc2FuaXRpemVyOiB7IHNhbml0aXplOiAoaHRtbCkgPT4gaHRtbCB9LFxuICAgIGFwaUNsaWVudDoge30sXG4gICAgZG9tQVBJOiB7XG4gICAgICBnZXREb2N1bWVudDogKCkgPT4gZG9jdW1lbnQsXG4gICAgICBnZXRFbGVtZW50QnlJZDogKGlkKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksXG4gICAgICBxdWVyeVNlbGVjdG9yOiAoc2VsLCBwYXJlbnQgPSBkb2N1bWVudCkgPT4gcGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsKSxcbiAgICAgIHF1ZXJ5U2VsZWN0b3JBbGw6IChzZWwsIHBhcmVudCA9IGRvY3VtZW50KSA9PiBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWwpLFxuICAgICAgY3JlYXRlRWxlbWVudDogKHRhZykgPT4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpLFxuICAgICAgc2V0SW5uZXJIVE1MOiAoZWwsIGh0bWwpID0+IHsgZWwuaW5uZXJIVE1MID0gaHRtbDsgfSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKVxuICAgIH0sXG4gICAgYnJvd3NlclNlcnZpY2U6IHtcbiAgICAgIGdldFdpbmRvdzogKCkgPT4gKHtcbiAgICAgICAgLi4ud2luZG93LFxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IChmbikgPT4gc2V0VGltZW91dChmbiwgMClcbiAgICAgIH0pLFxuICAgICAgc2V0VGltZW91dDogKGZuLCBkZWxheSkgPT4gc2V0VGltZW91dChmbiwgZGVsYXkpXG4gICAgfSxcbiAgICBnbG9iYWxVdGlsczoge30sXG4gICAgZG9tUmVhZGluZXNzU2VydmljZToge1xuICAgICAgZGVwZW5kZW5jaWVzQW5kRWxlbWVudHM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICAgIHdhaXRGb3JFdmVudDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpXG4gICAgfSxcbiAgICBBUFBfQ09ORklHOiB7IFRJTUVPVVRTOiB7fSB9LFxuICAgIGxvZ2dlcjoge1xuICAgICAgaW5mbzogamVzdC5mbigpLFxuICAgICAgd2FybjogamVzdC5mbigpLFxuICAgICAgZXJyb3I6IGplc3QuZm4oKSxcbiAgICAgIGRlYnVnOiBqZXN0LmZuKClcbiAgICB9XG4gIH07XG59O1xuXG5kZXNjcmliZSgnUHJvamVjdExpc3RDb21wb25lbnQgU2tlbGV0b24gQ2xlYW51cCcsICgpID0+IHtcbiAgbGV0IGNvbXBvbmVudDtcbiAgbGV0IGRlcHM7XG4gIGxldCBkb2N1bWVudDtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBJbXBvcnQgY29tcG9uZW50IGR5bmFtaWNhbGx5IHRvIGF2b2lkIG1vZHVsZSBsb2FkaW5nIGlzc3Vlc1xuICAgIGNvbnN0IHsgY3JlYXRlUHJvamVjdExpc3RDb21wb25lbnQgfSA9IGF3YWl0IGltcG9ydCgnLi4vc3RhdGljL2pzL3Byb2plY3RMaXN0Q29tcG9uZW50LmpzJyk7XG4gICAgXG4gICAgZGVwcyA9IGNyZWF0ZU1vY2tEZXBzKCk7XG4gICAgZG9jdW1lbnQgPSBkZXBzLmRvbUFQSS5nZXREb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBjb250YWluZXIgYW5kIGdyaWQgZWxlbWVudHNcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdExpc3RDb250YWluZXInKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJtb2JpbGUtZ3JpZFwiIGlkPVwicHJvamVjdENhcmRzUGFuZWxcIj48L2Rpdj4nO1xuICAgIFxuICAgIGNvbXBvbmVudCA9IGNyZWF0ZVByb2plY3RMaXN0Q29tcG9uZW50KGRlcHMpO1xuICAgIGF3YWl0IGNvbXBvbmVudC5pbml0aWFsaXplKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgaWYgKGNvbXBvbmVudD8uZGVzdHJveSkge1xuICAgICAgY29tcG9uZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCByZW1vdmUgYWxsIHNrZWxldG9uIGVsZW1lbnRzIHdoZW4gcmVuZGVyUHJvamVjdHMgaXMgY2FsbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZSB0byBjcmVhdGUgc2tlbGV0b25zXG4gICAgY29uc3QgZ3JpZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLWdyaWQnKTtcbiAgICBleHBlY3QoZ3JpZEVsZW1lbnQpLnRvQmVUcnV0aHkoKTtcbiAgICBcbiAgICAvLyBNYW51YWxseSBjcmVhdGUgc2tlbGV0b25zIChzaW11bGF0aW5nIF9zaG93TG9hZGluZ1N0YXRlKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICBjb25zdCBza2VsZXRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2tlbGV0b24uY2xhc3NOYW1lID0gJ2JnLWJhc2UtMjAwIGFuaW1hdGUtcHVsc2Ugcm91bmRlZC1ib3ggcC00IG1iLTIgbWF4LXctZnVsbCB3LWZ1bGwnO1xuICAgICAgZ3JpZEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2tlbGV0b24pO1xuICAgIH1cbiAgICBcbiAgICAvLyBWZXJpZnkgc2tlbGV0b25zIGV4aXN0XG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCg2KTtcbiAgICBcbiAgICAvLyBDYWxsIHJlbmRlclByb2plY3RzIHdpdGggbW9jayBkYXRhXG4gICAgY29uc3QgbW9ja1Byb2plY3RzID0gW1xuICAgICAgeyBpZDogJzEnLCBuYW1lOiAnVGVzdCBQcm9qZWN0IDEnIH0sXG4gICAgICB7IGlkOiAnMicsIG5hbWU6ICdUZXN0IFByb2plY3QgMicgfVxuICAgIF07XG4gICAgXG4gICAgY29tcG9uZW50LnJlbmRlclByb2plY3RzKG1vY2tQcm9qZWN0cyk7XG4gICAgXG4gICAgLy8gVmVyaWZ5IGFsbCBza2VsZXRvbnMgYXJlIHJlbW92ZWRcbiAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGUtcHVsc2UnKSkudG9IYXZlTGVuZ3RoKDApO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgcHJldmVudCBza2VsZXRvbiBkdXBsaWNhdGlvbiBvbiBtdWx0aXBsZSBfc2hvd0xvYWRpbmdTdGF0ZSBjYWxscycsICgpID0+IHtcbiAgICBjb25zdCBncmlkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtZ3JpZCcpO1xuICAgIFxuICAgIC8vIFNpbXVsYXRlIGNhbGxpbmcgX3Nob3dMb2FkaW5nU3RhdGUgbXVsdGlwbGUgdGltZXNcbiAgICAvLyAoV2UnbGwgbWFudWFsbHkgY3JlYXRlIHNrZWxldG9ucyB0byB0ZXN0IHRoZSBjbGVhbnVwIGxvZ2ljKVxuICAgIFxuICAgIC8vIEZpcnN0IGNhbGwgLSBjcmVhdGUgaW5pdGlhbCBza2VsZXRvbnNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgY29uc3Qgc2tlbGV0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNrZWxldG9uLmNsYXNzTmFtZSA9ICdiZy1iYXNlLTIwMCBhbmltYXRlLXB1bHNlIHJvdW5kZWQtYm94IHAtNCBtYi0yIG1heC13LWZ1bGwgdy1mdWxsJztcbiAgICAgIGdyaWRFbGVtZW50LmFwcGVuZENoaWxkKHNrZWxldG9uKTtcbiAgICB9XG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCg2KTtcbiAgICBcbiAgICAvLyBTZWNvbmQgY2FsbCAtIHNob3VsZCByZW1vdmUgb2xkIHNrZWxldG9ucyBiZWZvcmUgY3JlYXRpbmcgbmV3IG9uZXNcbiAgICAvLyAoVGhpcyBzaW11bGF0ZXMgdGhlIF9yZW1vdmVBbGxTa2VsZXRvbnMoKSBjYWxsIGluIF9zaG93TG9hZGluZ1N0YXRlKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgIGNvbnN0IHNrZWxldG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBza2VsZXRvbi5jbGFzc05hbWUgPSAnYmctYmFzZS0yMDAgYW5pbWF0ZS1wdWxzZSByb3VuZGVkLWJveCBwLTQgbWItMiBtYXgtdy1mdWxsIHctZnVsbCc7XG4gICAgICBncmlkRWxlbWVudC5hcHBlbmRDaGlsZChza2VsZXRvbik7XG4gICAgfVxuICAgIFxuICAgIC8vIFNob3VsZCBzdGlsbCBvbmx5IGhhdmUgNiBza2VsZXRvbnMsIG5vdCAxMlxuICAgIGV4cGVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5pbWF0ZS1wdWxzZScpKS50b0hhdmVMZW5ndGgoNik7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZ3JpZCBlbGVtZW50IHJlYXNzaWdubWVudCB3aXRob3V0IG9ycGhhbmluZyBza2VsZXRvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RMaXN0Q29udGFpbmVyJyk7XG4gICAgY29uc3Qgb3JpZ2luYWxHcmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1ncmlkJyk7XG4gICAgXG4gICAgLy8gQWRkIHNrZWxldG9ucyB0byBvcmlnaW5hbCBncmlkXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGNvbnN0IHNrZWxldG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBza2VsZXRvbi5jbGFzc05hbWUgPSAnYmctYmFzZS0yMDAgYW5pbWF0ZS1wdWxzZSByb3VuZGVkLWJveCBwLTQgbWItMiBtYXgtdy1mdWxsIHctZnVsbCc7XG4gICAgICBvcmlnaW5hbEdyaWQuYXBwZW5kQ2hpbGQoc2tlbGV0b24pO1xuICAgIH1cbiAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGUtcHVsc2UnKSkudG9IYXZlTGVuZ3RoKDMpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBuZXcgZ3JpZCAoc2ltdWxhdGluZyB0ZW1wbGF0ZSBpbmplY3Rpb24pXG4gICAgY29uc3QgbmV3R3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5ld0dyaWQuY2xhc3NOYW1lID0gJ21vYmlsZS1ncmlkJztcbiAgICBuZXdHcmlkLmlkID0gJ3Byb2plY3RDYXJkc1BhbmVsLW5ldyc7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0dyaWQpO1xuICAgIFxuICAgIC8vIFNpbXVsYXRlIHRoZSBmaXggbG9naWMgZnJvbSBwcm9qZWN0TGlzdEh0bWxMb2FkZWRcbiAgICBjb25zdCBvbGRTa2VsZXRvbnMgPSBvcmlnaW5hbEdyaWQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGUtcHVsc2UnKTtcbiAgICBvbGRTa2VsZXRvbnMuZm9yRWFjaChza2VsZXRvbiA9PiBza2VsZXRvbi5yZW1vdmUoKSk7XG4gICAgXG4gICAgaWYgKCFvcmlnaW5hbEdyaWQucGFyZW50Tm9kZSkge1xuICAgICAgb3JpZ2luYWxHcmlkLnJlbW92ZSgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBWZXJpZnkgc2tlbGV0b25zIGFyZSBjbGVhbmVkIHVwXG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSByZW5kZXJQcm9qZWN0cyB3aXRoIGVtcHR5IGRhdGEgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAvLyBDcmVhdGUgc2tlbGV0b25zIGZpcnN0XG4gICAgY29uc3QgZ3JpZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLWdyaWQnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgY29uc3Qgc2tlbGV0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNrZWxldG9uLmNsYXNzTmFtZSA9ICdiZy1iYXNlLTIwMCBhbmltYXRlLXB1bHNlIHJvdW5kZWQtYm94IHAtNCBtYi0yIG1heC13LWZ1bGwgdy1mdWxsJztcbiAgICAgIGdyaWRFbGVtZW50LmFwcGVuZENoaWxkKHNrZWxldG9uKTtcbiAgICB9XG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCg2KTtcbiAgICBcbiAgICAvLyBDYWxsIHJlbmRlclByb2plY3RzIHdpdGggZW1wdHkgYXJyYXlcbiAgICBjb21wb25lbnQucmVuZGVyUHJvamVjdHMoW10pO1xuICAgIFxuICAgIC8vIFNrZWxldG9ucyBzaG91bGQgYmUgcmVtb3ZlZCBldmVuIGZvciBlbXB0eSByZXN1bHRzXG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSByZW5kZXJQcm9qZWN0cyB3aXRoIGF1dGggZXJyb3IgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAvLyBDcmVhdGUgc2tlbGV0b25zIGZpcnN0XG4gICAgY29uc3QgZ3JpZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLWdyaWQnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgY29uc3Qgc2tlbGV0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNrZWxldG9uLmNsYXNzTmFtZSA9ICdiZy1iYXNlLTIwMCBhbmltYXRlLXB1bHNlIHJvdW5kZWQtYm94IHAtNCBtYi0yIG1heC13LWZ1bGwgdy1mdWxsJztcbiAgICAgIGdyaWRFbGVtZW50LmFwcGVuZENoaWxkKHNrZWxldG9uKTtcbiAgICB9XG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCg2KTtcbiAgICBcbiAgICAvLyBDYWxsIHJlbmRlclByb2plY3RzIHdpdGggYXV0aCBlcnJvclxuICAgIGNvbXBvbmVudC5yZW5kZXJQcm9qZWN0cyh7IGVycm9yOiAnVW5hdXRob3JpemVkJywgcmVhc29uOiAnYXV0aF9yZXF1aXJlZCcgfSk7XG4gICAgXG4gICAgLy8gU2tlbGV0b25zIHNob3VsZCBiZSByZW1vdmVkIGV2ZW4gZm9yIGF1dGggZXJyb3JzXG4gICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlLXB1bHNlJykpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBS0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQThCLFNBQUFDLHdCQUFBQyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBSCx1QkFBQSxZQUFBQSxDQUFBQyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGdCQUFBUCxDQUFBLElBQUFELENBQUEsZ0JBQUFDLENBQUEsT0FBQWEsY0FBQSxDQUFBQyxJQUFBLENBQUFmLENBQUEsRUFBQUMsQ0FBQSxPQUFBTSxDQUFBLElBQUFELENBQUEsR0FBQVUsTUFBQSxDQUFBQyxjQUFBLEtBQUFE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